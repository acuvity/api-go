<!-- markdownlint-disable MD024 MD025 -->

# Api API Documentation

> Version: 1

## apex

### Analyzer

Represents an analyzer.

#### Example

```json
{
  "detectionMatchers": [
    [
      {
        "confidence": "Medium",
        "group": "Text",
        "name": "txt",
        "operator": "min"
      }
    ]
  ],
  "enabled": false
}
```

#### Relations

##### `GET /analyzers`

List of analyzers.

Parameters:

- `q` (`string`): This is an example.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `description`

Type: `string`

The description of the analyzer.

##### `detectionMatchers`

Type: `[][]detectionmatcher`

A list of detection matcher that will trigger the analyzer.

##### `detectors`

Type: [`[]detector`](#detector)

The detectors the analyzer can use.

##### `enabled`

Type: `boolean`

Tell if the analyzer is enabled by default.

##### `group`

Type: `string`

The group the analyzer belongs to.

##### `models`

Type: [`[]analyzermodel`](#analyzermodel)

The models used by the analyzer.

##### `name`

Type: `string`

The name of the analyzer.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

## core

### AccessPolicy

Define which teams or individuals can access a provider.

#### Example

```json
{
  "accessDeniedMessage": "You must use the company workspace",
  "action": "Allow",
  "disabled": false,
  "match": "[
  {
    \"key\": \"Team\"
    \"operator\": \"Any\"
    \"values\": [\"engineers\"]
  }
]",
  "minimalLogging": false,
  "name": "my access policy",
  "offbandAnalysis": false,
  "permissive": false
}
```

#### Relations

##### `GET /accesspolicies`

List all available access policies.

Parameters:

- `q` (`string`): This is an example.

##### `POST /accesspolicies`

Creates a new access policy.

##### `DELETE /accesspolicies/:id`

Deletes the access policy with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /accesspolicies/:id`

Retrieves the access policy with the given ID.

##### `PUT /accesspolicies/:id`

Updates the access policy with the given ID.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `accessDeniedMessage`

Type: `string`

The message that is sent if the access is denied.

##### `action`

Type: `enum(Allow | Deny)`

Define if the provider is allowed or denied for the match expression.

Default value:

```json
"Allow"
```

##### `alertDefinition`

Type: `string`

The definition to use for alerting when action is deny.

##### `contentPolicies`

Type: `[]string`

The list of content policies to apply when the user has access to the provider.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

Description of the access policy.

##### `disabled`

Type: `boolean`

If true, the policy is disabled.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `match`

Type: [`[]predicate`](#predicate)

The match criteria used to take a decision on the access.

##### `minimalLogging`

Type: `boolean`

If true, the system will not log the messages that are not considered as
violations.

##### `name` [`required`,`format=^[a-zA-Z0-9-_/@. ]+$`]

Type: `string`

The name of the access policy.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `offbandAnalysis`

Type: `boolean`

If true, the system will run analysis in parallel of the user request. When this
is active, no further policing will be done, and no content policy will run.
This can be used to observe the transmitted data and have analysis report,
without adding latency to the end user request, at the price of not being able
to do any form of content moderation.

##### `permissive`

Type: `boolean`

If set, just log the decision, but don't enforce it.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### Agent

Stores information about a known agent.

#### Example

```json
{
  "currentVersion": "0.1.0",
  "hostname": "this-hostname",
  "isAPEXReachable": false,
  "isAPEXTrusted": false,
  "managedCAState": false,
  "ping": "2024-06-21T00:36:15.021Z",
  "principal": "{
  \"type\": \"User\",
  \"user\": {
      \"authType\": \"Certificate\",
      \"team\": \"engineers\",
      \"user\": \"someone@somewhere.com\"
  }
}",
  "start": "2024-06-21T00:36:15.021Z",
  "status": "Alive",
  "systemProxyManagementState": false
}
```

#### Relations

##### `GET /agents`

List all available agents.

Parameters:

- `q` (`string`): This is an example.

##### `POST /agents`

Creates a new agent.

##### `DELETE /agents/:id`

Delete an agent given its identifier.

##### `GET /agents/:id`

Retrieve an agent given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `agentConfig`

Type: [`agentconfig`](#agentconfig)

The agent configuration.

##### `currentVersion` [`required`]

Type: `string`

The current version of the agent.

##### `hostname` [`required`]

Type: `string`

The name of the host where the agent is runnning.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `isAPEXReachable`

Type: `boolean`

True if the apex is reachable.

##### `isAPEXTrusted`

Type: `boolean`

True if the apex is trusted.

##### `managedCAState`

Type: `boolean`

The state of the managed CA.

##### `managedInterfaces`

Type: `[]string`

The list of managed interfaces.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `ping` [`required`]

Type: `time`

The last ping recorded for the agent.

##### `principal` [`required`]

Type: [`principal`](#principal)

The principal of the object.

##### `start` [`required`]

Type: `time`

The start time for the agent.

##### `status` [`required`]

Type: `enum(Alive | Paused | Stopped)`

The status of the agent.

##### `systemProxyManagementState`

Type: `boolean`

The state of the system proxy management.

### AgentConfig

Stores the configuration information for the acushield agent.

#### Example

```json
{
  "DNSMonitorDisabled": false,
  "DNSMonitorPolicy": "Warn",
  "attendedUpgrades": false,
  "configRefreshInterval": "30m",
  "domainDiscoveryDisabled": false,
  "domainReportInterval": "30m",
  "emergencyPauseEnabled": false,
  "listeningPort": "8081",
  "managedCADisabled": false,
  "name": "default",
  "pacName": "default",
  "pauseEnabled": false,
  "pingInterval": "6h",
  "releaseTrain": "Stable",
  "scanDisabled": false,
  "scanInterval": "10m",
  "scanReportInterval": "1h",
  "subject": [
    [
      "@scope=employees",
      "@org=acuvity.ai"
    ]
  ],
  "systemProxyManagementDisabled": false,
  "useDynamicPort": false
}
```

#### Relations

##### `GET /agentconfigs`

List all agent configurations.

Parameters:

- `q` (`string`): This is an example.

##### `POST /agentconfigs`

Creates a new agent configuration.

##### `DELETE /agentconfigs/:id`

Delete an agent configuration given its identifier.

##### `GET /agentconfigs/:id`

Retrieve an agent configuration given its identifier.

##### `PUT /agentconfigs/:id`

Update an agent configuration given its identifier.

#### Attributes

##### `DNSMonitorDisabled`

Type: `boolean`

If disabled, the agent will not monitor DNS traffic.

##### `DNSMonitorPolicy`

Type: `enum(Warn | Enforce)`

What action to take if the DNS monitor cannot start when enabled. Enforce will
stop the agent with an error, while Warn will post a log and continue on.

Default value:

```json
"Warn"
```

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `attendedUpgrades`

Type: `boolean`

If true, upgrades will only take place with user confirmation.

##### `configRefreshInterval`

Type: `string`

Defines the refresh interval for the configuration of the deployed agents (i.e:
30m, 6h).

Default value:

```json
"1h"
```

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

Description of the agent configuration.

##### `domainDiscoveryDisabled`

Type: `boolean`

If disabled, the agent will stop reporting the discovered domains.

##### `domainReportInterval`

Type: `string`

The interval in which domains (visited URLs or DNS) are reported.

Default value:

```json
"10m"
```

##### `emergencyPauseEnabled`

Type: `boolean`

Use this option in emergencies if your users are being blocked.
When enabled, it will force all agents to pause at the next refresh of their
configuration or when the user clicks “Reload” on their laptop.
When paused, agents are not enforcing security rules.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `listeningPort` [`required`]

Type: `string`

The port used by the agent to proxy the traffic.

Default value:

```json
"8081"
```

##### `managedCADisabled`

Type: `boolean`

If disabled, the agent will rely on the CA already installed and trusted on the
system.

##### `name` [`required`,`format=^[a-zA-Z0-9-_/@. ]+$`]

Type: `string`

The name of the agent configuration.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `pacName`

Type: `string`

The name of the PAC configuration to use.

##### `pauseEnabled`

Type: `boolean`

If enabled, the agent will have the ability to pause enforcement.

##### `pingInterval`

Type: `string`

The ping interval at which acushield should check in with the backend.

Default value:

```json
"6h"
```

##### `releaseTrain`

Type: `enum(Manual | Unstable | Stable)`

The release train to follow when updating. Manual means it will not auto-update,
essentially pinning to a version.

Default value:

```json
"Stable"
```

##### `scanDisabled`

Type: `boolean`

If disabled, the agent will not scan for genAI applications and plugins.

##### `scanInstalledApps`

Type: [`[]agentdiscoveredapp`](#agentdiscoveredapp)

The list of installed applications the scanner will look for.

##### `scanInterval`

Type: `string`

The interval in which scans take place by the agent.

Default value:

```json
"5m"
```

##### `scanReportInterval`

Type: `string`

The interval in which scan reports are sent to the backend.

Default value:

```json
"12h"
```

##### `scanRunningProcesses`

Type: `[]string`

The list of running processes the scanner will look for.

##### `subject` [`required`]

Type: `[][]string`

A tag expression that identifies the user(s) tied to this config.

##### `systemProxyManagementDisabled`

Type: `boolean`

If disabled, the system proxy needs to be configured manually.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

##### `useDynamicPort`

Type: `boolean`

If system proxy management is enabled and this flag is enabled, the system
can take another port, different than the listeningPort.

### AgentDiscoveredApp

Represents an application that the agent discovered.

#### Attributes

##### `name`

Type: `string`

The name of the application.

##### `plugins`

Type: `[]string`

The list of installed genAI plugins/extensions for the application.

### AgentDiscovery

This holds the various discoveries an agent finds, such as genAI processes,
applications and plugins.

#### Example

```json
{
  "principal": "{
  \"type\": \"User\",
  \"user\": {
      \"authType\": \"Certificate\",
      \"team\": \"engineers\",
      \"user\": \"someone@somewhere.com\"
  }
}"
}
```

#### Relations

##### `POST /agentdiscoveries`

Creates a new agent discovery.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `hostname`

Type: `string`

The hostname where the discovery took place.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `installedApps`

Type: [`[]agentdiscoveredapp`](#agentdiscoveredapp)

List of installed applications found based on the list set in agent config.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `principal` [`required`]

Type: [`principal`](#principal)

The principal of the object.

##### `runningProcesses`

Type: `[]string`

The list of running processes found based on the list set in agent config.

##### `username`

Type: `string`

The username that owns the processes and applications.

### AIDomain

AI domain provides an AI risk score given a domain url.

#### Example

```json
{
  "compliances": [
    "SOC2",
    "GDPR",
    "HIPAA"
  ],
  "dataResidency": [
    "US",
    "EU",
    "China"
  ],
  "dataSharing": false,
  "dataSharingConsent": false,
  "description": "A description text",
  "domain": "openai.com",
  "isAIDomain": false,
  "models": [
    "gpt-4o",
    "gpt-4"
  ],
  "propagate": true,
  "providerName": "chatgpt",
  "providerTrainingPolicies": [
    {
      "description": "provider uses user data for training the models on Free plan ",
      "subscriptiontype": "Free",
      "useData": true
    }
  ],
  "riskExplanation": "A markdown string",
  "riskScore": 0.5,
  "thirdPartyModelUsage": false
}
```

#### Relations

##### `GET /aidomains`

List all AI domains.

Parameters:

- `q` (`string`): This is an example.
- `domain` (`string`): The domain to look for.

##### `POST /aidomains`

Creates a new AI domain.

##### `DELETE /aidomains/:id`

Delete an AI domain given its identifier.

##### `GET /aidomains/:id`

Retrieve an AI domain given its identifier.

##### `PUT /aidomains/:id`

Update an AI domain given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `compliances`

Type: `[]string`

The list of compliance provided by the domain.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `dataResidency`

Type: `[]string`

The user data storage location.

##### `dataSharing`

Type: `boolean`

Does the provider share user data with 3rd party or services.

##### `dataSharingConsent`

Type: `boolean`

Does the provider share user data with consent with 3rd party or services.

##### `description`

Type: `string`

A brief description about the AI domain and what services it provides.

##### `domain` [`required`,`creation_only`]

Type: `string`

The domain of the AI provider.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `isAIDomain`

Type: `boolean`

Flag to say if the domain is a AI domain or not.

##### `models`

Type: `[]string`

List of AI models used by the domain.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `providerName`

Type: `string`

The name of the main provider.

##### `providerRetentionPolicies`

Type: [`[]providerretentionpolicy`](#providerretentionpolicy)

The data retention policies by the domain for each type of users.

##### `providerTrainingPolicies`

Type: [`[]providertrainingpolicy`](#providertrainingpolicy)

Does the provider use user data for training its model.

##### `riskExplanation`

Type: `string`

A Markdown formatted string explaining the risk score.

##### `riskScore` [`required`,`max_value=1.000000`]

Type: `float`

The risk score for the domain.

##### `thirdPartyModelUsage`

Type: `boolean`

Does provider use third party model.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### AlertEvent

Represents an alert event raised by a policy.

#### Example

```json
{
  "alertDefinition": "warning-notification",
  "principal": "{
  \"type\": \"User\",
  \"user\": {
      \"authType\": \"Certificate\",
      \"team\": \"engineers\",
      \"user\": \"someone@somewhere.com\"
  }
}"
}
```

#### Attributes

##### `alertDefinition` [`required`]

Type: `string`

The name of the alert definition that triggered the alert event.

##### `alertDefinitionNamespace`

Type: `string`

The namespace of the alert definition.

##### `principal` [`required`]

Type: [`principal`](#principal)

The principal of the object.

##### `provider`

Type: `string`

The provider used that the alert came from.

##### `timestamp` [`autogenerated`,`read_only`]

Type: `time`

When the alert event was raised.

### Analysis

Represent a ml pipeline graph analysis.

#### Example

```json
{
  "matchingDetections": [
    {
      "confidence": "Medium",
      "description": "Txt Text",
      "group": "Text",
      "label": "txt",
      "name": "txt",
      "raw_score": 0.2,
      "score": 0.5
    }
  ]
}
```

#### Attributes

##### `analyses`

Type: [`[]analysis`](#analysis)

The list of analysis chained to this analyzer analysis.

##### `analyzerID`

Type: `string`

The ID of the analyzer.

##### `detections`

Type: [`[]detection`](#detection)

The list of detections the analyzer returned.

##### `duration`

Type: `float`

The time taken by the analyzer.

##### `matchingDetections`

Type: [`[]detection`](#detection)

A list of detections that matches the detection matchers criteria set on
analyzers,
triggering their execution.

##### `skippedReason`

Type: `string`

The reason the analyzer was skipped.

### AnalyzerModel

Represent an analyzer model.

#### Attributes

##### `name`

Type: `string`

The name of the model.

##### `revision`

Type: `string`

The revision of the model.

### APIAuthorization

Define API Authorizations to define who can access the Acuvity console.

#### Example

```json
{
  "disabled": false,
  "name": "my api authorization.",
  "role": "Employee",
  "targetNamespaces": "/my/namespace"
}
```

#### Relations

##### `GET /apiauthorizations`

List all available api authorizations.

Parameters:

- `q` (`string`): This is an example.

##### `POST /apiauthorizations`

Creates a new api authorization policy.

##### `DELETE /apiauthorizations/:id`

Deletes the apiauthorizations with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /apiauthorizations/:id`

Retrieves the apiauthorizations with the given ID.

##### `PUT /apiauthorizations/:id`

Updates the apiauthorizations with the given ID.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

Description of the authorization rule.

##### `disabled`

Type: `boolean`

When disabled, an API Authorization has no effect.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`required`]

Type: `string`

The name of the authorization rule.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `permissions`

Type: `[]string`

The individual permissions. Only works if role is Custom.

##### `role` [`required`]

Type: `enum(Administrator | Application | Custom | Employee | OpenTelemetryCollector | Owner | Proxy | Trial | Viewer)`

The role for the subjects.

##### `subject`

Type: `[][]string`

A tag expression that identifies the authorized user(s).

##### `targetNamespaces`

Type: `[]string`

Defines the namespace or namespaces in which the permission for subject should
apply. If empty, the object's namespace will be used.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### App

App allow to define a generic application.

#### Example

```json
{
  "components": {
    "refMode": "pointer"
  },
  "description": "My Wordpress Instance",
  "name": "wordpress",
  "selector": [
    [
      "k8s-namespace=wordpress",
      "zone=us-west"
    ]
  ],
  "tracing": "Recording"
}
```

#### Relations

##### `GET /apps`

List all apps.

Parameters:

- `q` (`string`): This is an example.

##### `POST /apps`

Creates a new apps.

##### `DELETE /apps/:id`

Deletes the App with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /apps/:id`

Retrieves the App with the given ID.

##### `PUT /apps/:id`

Updates the App with the given ID.

##### `GET /apps/:id/appcomponents`

Retrieve the list of app components for that application with their respective
identity tokens.

Parameters:

- `q` (`string`): This is an example.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `components`

Type: [`[]appcomponent`](#appcomponent)

List of components for the application.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

The description of the App.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`required`,`creation_only`,`format=^[a-zA-Z0-9-_]+$`]

Type: `string`

The name of the App.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `otelExporter`

Type: [`otlpendpoint`](#otlpendpoint)

The OpenTelemetry exporter configuration for this application. This can only be
used when the tracing behavior is set to Recording. When the Apex is recording
spans of its own, then it will send them to this endpoint. Use this to ensure
that the traces of your applications are complete in your own tracing system and
don't contain holes that were created by the Apex.

##### `otelReceivers`

Type: [`[]otlpreceiver`](#otlpreceiver)

The OpenTelemetry receiver endpoints to run for this application. This can only
be used when the tracing behavior is set to Transparent or Recording. If
non-empty, the Apex will run OTLP receivers on the provided OTLP receivers to
receive spans from the application within all component workloads of this
application. This is optional as there are alternative methods for receiving
spans for the application.

##### `selector`

Type: `[][]string`

A tag expression that identify an application based on downstream labels.

##### `subject`

Type: `[][]string`

Only bearers with claims matching the subject will be allowed to access the
appcomponent tokens.

##### `tracing`

Type: `enum(Disabled | Transparent | Recording)`

Configure the OpenTelemetry tracing behavior for this application. By default no
tracing will be facilitated. If you set this to Transparent, then the Apex will
record traces within Acuvity as they are being passed by the application in the
respective traceparent HTTP header or other OpenInference related trace context
transport methods. Note that with the Transparent mode, you might lose some
spans that belong to a trace as the Apex can sit before your application itself.
If you want to ensure you capture the full trace, you need to set this value to
Recording. When the Apex is acting in Recording mode, it will record its own
interactions as spans of its own. This ensures that all spans for a trace are
captured. However, if you rely on complete tracing data in your own tracing
system, then you should configure the otelExporter to ensure that the Apex is
exporting its spans to your tracing system. Additionally, for both Transparent
and Recording modes, you should ensure that the application is reporting its
spans to Acuvity as well. This can be realized by running OTLP receivers within
your application components by configuring the otelReceivers setting.

Default value:

```json
"Disabled"
```

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### AppComponent

Represents a particular component of the application.

#### Example

```json
{
  "CAInjectionEnabled": false,
  "description": "The email agent with reading capabilities.",
  "egressMode": "Inline",
  "name": "mailerd",
  "providerName": "my-app-provider",
  "selector": [
    [
      "component=frontend"
    ]
  ]
}
```

#### Relations

##### `GET /apps/:id/appcomponents`

Retrieve the list of app components for that application with their respective
identity tokens.

Parameters:

- `q` (`string`): This is an example.

#### Attributes

##### `CAInjectionEnabled`

Type: `boolean`

EXPERIMENTAL. If egress mode is inline, the Apex will act as a transparent
proxy. The certificates that will be served by the proxy are generated by the
Apex itself which are issued by a dynamic TLS CA. If you enable this feature,
the matching app component instances will get the CA certificate dynamically
injected into the system trust store.

##### `description`

Type: `string`

The description of the component.

##### `egressMode`

Type: `enum(Disabled | Mirror | Inline)`

The egress datapath mode to use for network traffic going out to providers for
this application component. By default this is set to disabled. However, this
can be changed to mirror traffic where the Apex is only providing visibility
with no possibility of any access or content policies to take effect. Or this
can be set to inline in which case all traffic to providers will be redirected
to the Apex which acts as a transparent proxy in this case. In this mode access
and content policies will take effect.

Default value:

```json
"Disabled"
```

##### `ingressProviderConfigs`

Type: [`[]ingressproviderconfig`](#ingressproviderconfig)

The ingress provider configurations to serve for this application. If this app
component serves multiple ingress providers, you must define an ingress provider
config for every single one of them. If you need access to the same ingress
provider over different port configurations (for example one serving https while
another port serves plain http), then you must define two ingress provider
configurations and reuse the same provider name within the configuration.

##### `name` [`required`,`format=^[a-zA-Z0-9-_]+$`]

Type: `string`

The component name.

##### `providerName`

Type: `string`

If given, this is the provider name that this component represents. This
**MUST** match the name of a provider.

##### `selector`

Type: `[][]string`

A tag expression that identify an application component based on downstream
labels.

##### `token` [`autogenerated`,`read_only`]

Type: `string`

The token for the current component. Only populated by the backend when the
caller's
claim match the parents app.subject.

### AppToken

App Token are revocable long lived tokens.

#### Example

```json
{
  "name": "my personal access token",
  "transient": false,
  "validity": "8760h"
}
```

#### Relations

##### `GET /apptokens`

List all apptokens available.

Parameters:

- `q` (`string`): This is an example.

##### `POST /apptokens`

Creates a new app token.

##### `DELETE /apptokens/:id`

Deletes the App Token with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /apptokens/:id`

Retrieves the App Token with the given ID.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `claims` [`autogenerated`,`read_only`]

Type: `[]string`

The list of claims delivered in the token.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `email` [`autogenerated`,`read_only`]

Type: `string`

The email of the user who requested the token.

##### `expirationDate` [`autogenerated`,`read_only`]

Type: `time`

Tells when the token will expire.

##### `machineID` [`creation_only`]

Type: `string`

The optional machine ID of the token. This is used to easily retrieve the tokens
issued for a particular machine.

##### `name` [`required`,`creation_only`]

Type: `string`

Name of the token is specified while creating the token.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `sourceIP` [`autogenerated`,`read_only`]

Type: `string`

The source IP of the request that initiated the creation of the token.

##### `token` [`autogenerated`]

Type: `string`

The generated token. It won't be stored.

##### `tokenID` [`autogenerated`,`read_only`]

Type: `string`

The ID of the associated token.

##### `transient`

Type: `boolean`

If true, the token will not be stored and will only be revocable if you keep
track of the token ID yourself. Also, the validity will be capped and the token
won't be long lived.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

##### `validity`

Type: `string`

Configures the validity of the token.

Default value:

```json
"8760h"
```

### AuthSettings

Returns the authentication source names available for this organization.

#### Example

```json
{
  "sourceName": "default",
  "sourceType": "SAML"
}
```

#### Relations

##### `GET /authsettings`

Retrieve authentication settings for an organization.

#### Attributes

##### `sourceName`

Type: `string`

The name of the source.

Default value:

```json
"default"
```

##### `sourceType`

Type: `enum(SAML | OIDC | OAuth2)`

The type of source.

### ContentPolicy

The policy that decides how to handle the request content.

#### Example

```json
{
  "friendlyName": "Simple name",
  "moderations": "You must use the company workspace",
  "name": "my-simple-policy",
  "propagate": true
}
```

#### Relations

##### `GET /contentpolicies`

List all available content policies.

Parameters:

- `q` (`string`): This is an example.

##### `POST /contentpolicies`

Creates a new content policy.

##### `DELETE /contentpolicies/:id`

Deletes the content policy with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /contentpolicies/:id`

Retrieves the content policy with the given ID.

##### `PUT /contentpolicies/:id`

Updates the content policy with the given ID.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

Description of the content policy.

##### `friendlyName` [`required`]

Type: `string`

Friendly name of the object.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `moderations`

Type: [`[]moderation`](#moderation)

The list of moderations to take when the user has access to the provider.

##### `name` [`creation_only`,`format=^[a-zA-Z0-9-_]+$`]

Type: `string`

The internal reference name of the object. It is a sanitized version of Friendly
Name if empty.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### CustomDataType

Allows to create custom data detectors.

#### Example

```json
{
  "friendlyName": "Simple name",
  "name": "my-simple-policy",
  "propagate": true
}
```

#### Relations

##### `GET /customdatatypes`

List all custom data types.

Parameters:

- `q` (`string`): This is an example.

##### `POST /customdatatypes`

Creates a new custom data type.

##### `DELETE /customdatatypes/:id`

Delete a custom data type given its identifier.

##### `GET /customdatatypes/:id`

Retrieve a custom data type given its identifier.

##### `PUT /customdatatypes/:id`

Update a custom data type given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

Description of the custom data type.

##### `friendlyName` [`required`]

Type: `string`

Friendly name of the object.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `matches`

Type: `[]string`

A list of RE2 regular expressions used for data detection. Each expression can
include zero or one capturing group. If no capturing group is present, detection
positions will be determined based on the entire captured portion of the data.
If a single capturing group is included, the detection positions will correspond
to the part defined by that group. However, if more than one capturing group is
found, the system will return a validation error. Additionally, extra
validations are performed to ensure that the regular expressions are not overly
complex, preventing any negative impact on detection engine performance.

##### `name` [`creation_only`,`format=^[a-zA-Z0-9-_]+$`]

Type: `string`

The internal reference name of the object. It is a sanitized version of Friendly
Name if empty.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### DataSet

Allows to create a dataSet.

#### Example

```json
{
  "dataTypes": [
    "ssn",
    "person",
    "location"
  ],
  "friendlyName": "Simple name",
  "name": "my-simple-policy",
  "propagate": true,
  "sensitivity": "High"
}
```

#### Relations

##### `GET /datasets`

List all DataSets.

Parameters:

- `q` (`string`): This is an example.

##### `POST /datasets`

Creates a new DataSet.

##### `DELETE /datasets/:id`

Delete a dataSet given its identifier.

##### `GET /datasets/:id`

Retrieve a dataSet given its identifier.

##### `PUT /datasets/:id`

Update a dataSet given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `dataTypes`

Type: `[]string`

A list of all the data types which are associated to this data set.

##### `description`

Type: `string`

Description of the dataSet.

##### `friendlyName` [`required`]

Type: `string`

Friendly name of the object.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`creation_only`,`format=^[a-zA-Z0-9-_]+$`]

Type: `string`

The internal reference name of the object. It is a sanitized version of Friendly
Name if empty.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `sensitivity`

Type: `enum(Low | Medium | High)`

Describe the sensitity of the dataSet.

Default value:

```json
"High"
```

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### Destination

Represents the destination that this request was made to.

#### Example

```json
{
  "app": "MyApp",
  "component": "frontend",
  "host": "api.openai.com",
  "ip": "192.0.2.42",
  "labels": [
    "country=us",
    "another-label"
  ]
}
```

#### Attributes

##### `app`

Type: `string`

The name of the application that the domain belongs to.

##### `component`

Type: `string`

The component of the application that the domain belongs to.

##### `host` [`required`]

Type: `string`

The host name of the request.

##### `ip`

Type: `string`

The destination IP address of the request.

##### `labels`

Type: `[]string`

The list of labels attached to the application request destination.

### Detection

Represent a detection.

#### Example

```json
{
  "confidence": "Unlikely",
  "positional": false
}
```

#### Attributes

##### `confidence`

Type: `enum(Unlikely | Low | Medium | High)`

The confidence level of the detection.

##### `description`

Type: `string`

The description of the detection.

##### `end`

Type: `integer`

The end position of the poisitional detection.

##### `group`

Type: `string`

The group the detection belongs to.

##### `label`

Type: `string`

The label returned by the model.

##### `name`

Type: `string`

The name of the detection.

##### `positional`

Type: `boolean`

Tell if the detection is positional.

##### `raw_score`

Type: `float`

The raw score of the detection retuned by the model.

##### `score`

Type: `float`

The normalized score of the detection against its confidence level thresholds.
Between 0 and 1 as low <0.33, 0.33<=Medium<0.66, high >=0.66.

##### `start`

Type: `integer`

The start position of the poisitional detection.

### DetectionMatcher

Represent a detection matcher.
A Detection Matcher serves as a filtering mechanism for analyzers, determining
which detections should trigger an analysis. It allows for flexible pattern
matching on detection attributes such as name, label, and group using glob-style
wildcards. Additionally, it enables confidence-based filtering by defining
thresholds and comparison operators. Detection Matchers provide a structured way
to control when and how analyzers engage with incoming detections.

#### Example

```json
{
  "confidence": "Low",
  "group": "Text",
  "label": "txt",
  "name": "txt",
  "operator": "Min"
}
```

#### Attributes

##### `confidence`

Type: `enum(Unlikely | Low | Medium | High)`

The detection confidence level to operate on.

Default value:

```json
"Low"
```

##### `description`

Type: `string`

The description of the detection matcher.

##### `group`

Type: `string`

The group pattern used to match detection group. Supports glob-style wildcards
(e.g. 'Text*' matches 'Text', 'Text_'). Default value is '*' meaning matching
any
detection group.

Default value:

```json
"*"
```

##### `label`

Type: `string`

The label pattern used to match detection label. Supports glob-style wildcards
(e.g. 'txt*' matches 'txt', 'txtuf8'). Default value is '*' meaning matching any
detection label.

Default value:

```json
"*"
```

##### `name`

Type: `string`

The name pattern used to match detection name. Supports glob-style wildcards
(e.g. 'txt*' matches 'txt', 'txtuf8'). Default value is '*' meaning matching any
detection name.

Default value:

```json
"*"
```

##### `operator`

Type: `enum(Is | Min | Max)`

Specifies how to compare the detection's confidence value against the matcher's
threshold:
- 'Is': All Detections confidence must exactly match the threshold
- 'Min': At least one detection confidence must be greater than or equal to the
threshold
- 'Max': At least one detection confidence must be less than the threshold
The default value is 'Min'.

Default value:

```json
"Min"
```

### Detector

Represent a detector an analyzer can use.

#### Example

```json
{
  "positional": false
}
```

#### Attributes

##### `description`

Type: `string`

The description of the detection.

##### `group`

Type: `string`

The group the detection belongs to.

##### `label`

Type: `string`

The label returned by the model.

##### `name`

Type: `string`

The name of the detection.

##### `positional`

Type: `boolean`

Tell if the detection is positional.

### DomainHits

This is a domain hit.

#### Example

```json
{
  "app": "MyApp",
  "component": "frontend",
  "domain": "google.com",
  "hits": 12
}
```

#### Attributes

##### `app`

Type: `string`

The name of the application that the domain belongs to.

##### `component`

Type: `string`

The component of the application that the domain belongs to.

##### `domain` [`required`]

Type: `string`

Domain that has been visited.

##### `hits` [`required`,`min_value=1.000000`]

Type: `integer`

The number of hits for this report.

### ErrorTransformer

Used to transform errors before sending them back to the client.

#### Example

```json
{
  "contentType": "application/json",
  "template": "{\"error\": \"<< .Messages | join \", \" >>\" }"
}
```

#### Attributes

##### `contentType`

Type: `string`

The Content-Type to use when returning a formatted error.

Default value:

```json
"application/json"
```

##### `statusCode`

Type: `integer`

HTTP status code to return, instead of the classical one.

##### `template`

Type: `string`

Go template to process and transform the error. The delimiters
are << and >> to prevent collision with acuctl templating.
The template will be passed the following informations:

- `.Messages`: a list of string containing the messages to return.
- `.Code`: The original status code.
- `.TransformedCode`: The transformed status code.
- `.Action`: The policy decision action (ask or deny).

All the sprig text function are available.

### Extraction

Represents the extracted information to log.

#### Example

```json
{
  "PIIs": {
    "ssn": 0.8
  },
  "confidentiality": 0.9,
  "customDataTypes": {
    "my_cdt": 1
  },
  "dataSets": {
    "cds": {
      "ct1": 1,
      "ct2": 2
    }
  },
  "exploits": {
    "prompt_injection": 0.8
  },
  "intent": {
    "write": 0.8
  },
  "internal": false,
  "isFile": false,
  "isStored": false,
  "keywords": {
    "my_keywork": 0.8
  },
  "languages": {
    "english": 0.8
  },
  "malcontents": {
    "toxic": 0.8
  },
  "relevance": 0.9,
  "secrets": {
    "credentials": 0.7
  },
  "topics": {
    "category/enterprise": 0.7,
    "department/logistics": 0.8,
    "depict/document": 0.8,
    "extracted/typed_text_content": 1,
    "timeframe/current_year": 0.6
  }
}
```

#### Attributes

##### `PIIs`

Type: `map[string]float64`

The PIIs found during classification.

The current list can be obtained through the analyzers API by searching for
detector groups 'PIIs' accross all analyzers.

Example of PIIs detected: aba_routing_number, address, bank_account,
bitcoin_wallet, credit_card, driver_license, email_address, itin_number,
location, medical_license, money_amount, passport_number, person, phone_number,
ssn.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

##### `annotations`

Type: `map[string]string`

Annotations attached to the extraction.

##### `categories`

Type: [`[]modality`](#modality)

The categories are remapping of the modalities in a more human friendly way.

##### `confidentiality`

Type: `float`

The level of general confidentiality of the input.

##### `customDataTypes`

Type: `map[string]float64`

The custom data types found during classification.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

##### `data`

Type: `string`

The data extracted.

##### `dataSets`

Type: `map[string]map[string]float64`

The data sets found during classification.

##### `detections`

Type: [`[]textualdetection`](#textualdetection)

The textual detections found while applying policies.

##### `exploits`

Type: `map[string]float64`

The various exploits attempts.

The current list can be obtained through the analyzers API by searching for
detector groups 'Exploits' accross all analyzers.

Example of exploits detected: jailbreak, prompt_injection, malicious_url.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

##### `hash`

Type: `string`

The hash of the extraction.

##### `intent`

Type: `map[string]float64`

The estimated intent embodied into the text.

The current list can be obtained through the analyzers API by searching for
detector groups 'Intent' accross all analyzers.

Example of intent detected: explain, outline, summarize, write.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

##### `internal`

Type: `boolean`

If true, this extraction is for internal use only. This can be used by agentic
systems to mark an extraction as internal only as opposed to user facing.

##### `isFile`

Type: `boolean`

If true, the data of the extraction is a file.

##### `isStored`

Type: `boolean`

If true, indicates that the file has been stored.

##### `keywords`

Type: `map[string]float64`

The keywords found during classification.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

##### `label`

Type: `string`

A means of distinguishing what was extracted, such as prompt, input file or
code.

##### `languages`

Type: `map[string]float64`

The language of the classification.

The current list can be obtained through the analyzers API by searching for
detector groups 'Languages' accross all analyzers.

Example of languages: chinese, english, french, german, gibberish, japanese,
russian, spanish.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

##### `luaID`

Type: `string`

An internal field for lua code. it is ignored by the API.

##### `malcontents`

Type: `map[string]float64`

The various malcontents attempts.

The current list can be obtained through the analyzers API by searching for
detector groups 'Malcontents' accross all analyzers.

Example of malcontents: biased, harmful, toxic.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

##### `modalities`

Type: [`[]modality`](#modality)

The modalities of data detected in the data.

##### `relevance`

Type: `float`

The level of general organization relevance of the input.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

##### `secrets`

Type: `map[string]float64`

The secrets found during classification.

The current list can be obtained through the analyzers API by searching for
detector groups 'Secrets' accross all analyzers.

Example of secrets: adafruit, alibaba, anthropic, apideck, apify, atlassian,
aws_secret_key, buildkite, checkout, clickuppersonal, contentfulpersonalaccess,
credentials, database_url_with_credentials, databricks, denodeploy, dfuse,
digitalocean, discord_webhook, docker_hub, doppler, dropbox, endorlabs,
fleetbase, flutterwave, frameio, freshdesk, fullstory, github, gitlab,
gocardless, google_api, grafana, groq, huggingface, intra42, jwt, klaviyo,
launchdarkly, linearapi, locationiq, mailchimp, mailgun, mapbox, maxmind,
microsoft_teams_webhook, nightfall, notion, npm, openai, otp_auth_url, pagarme,
paystack, planetscale, planetscaledb, portainer, posthog, postman, prefect,
private_key, pubnub_publish, pubnub_subscribe, pulumi, ramp, razorpay, readme,
rechargepayments, replicate, rubygems, salesforce, sendgrid, sendinblue,
shopify, slack_access, slack_bot, slack_refresh, slack_user, slack_webhook,
slack_workflow_webhook, sourcegraph, sourcegraphcody, squareapp, squareup,
stripe, supabase, tailscale, tines_webhook, trufflehog, twilio, ubidots,
voiceflow, web_url_with_credentials, zapierwebhook.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

##### `toolResults`

Type: [`[]toolresult`](#toolresult)

Tool call results which are passed in to this request.

##### `toolUses`

Type: [`[]tooluse`](#tooluse)

Tool uses as requested by a model.

##### `topics`

Type: `map[string]float64`

The topic of the classification.

The current list can be obtained through the analyzers API, with the following
conditions:
  1. Includes all analyzers EXCEPT those in the 'Modality' group
  2. Includes all analyzer detectors EXCEPT those in these groups:
    - 'Secrets'
    - 'Exploits'
    - 'Intent'
    - 'PIIs'
    - 'Malcontents'

Example of topics: category/enterprise, category/healthcare, category/medical,
category/personal, contains/blank_image, contains/certificate_signing_request,
contains/database_url, contains/handwritten_text, contains/printed_text,
contains/public_key, contains/ssh_public_key, contains/web_url,
decoded/base32_data, decoded/base58_data, decoded/base64_data,
decoded/base64_url_data, decoded/base85_data, decoded/hexadecimal_data,
decoded/puny_code_data, decoded/quoted_printable_data,
decoded/url_encoding_data, department/compliance, department/cybersecurity,
department/finance, department/human_resources,
department/information_technology, department/legal, department/logistics,
department/marketing, department/performance_evaluation,
department/product_management, department/project_management, department/sales,
department/strategy, department/support, depict/check, depict/code,
depict/document, depict/unclassified, depict/whiteboard, domain/commercial,
domain/development, domain/financial, domain/general, domain/regulatory,
domain/workforce, extracted/csv_cell_content, extracted/document_text_content,
extracted/handwritten_text_content, extracted/pdf_text_content,
extracted/pptx_text_content, extracted/spreadsheet_text_content,
extracted/typed_text_content, timeframe/current_year, timeframe/future,
timeframe/last_year, timeframe/next_year, timeframe/past,
transcribed/audio_text_content.

If a key is not present in the map that implies that entity was not detected. If
an entity is detected then the value is a score. Here's how to interpret the
scores:
  - confidence: 'low', 0 < score <0.33
  - confidence: 'medium', 0.33 <= score < 0.66
  - confidence: 'high', 0.66 <= score <= 1.

### ExtractionInformation

Represents extracted information.

#### Attributes

##### `n`

Type: `integer`

The number of times it has been seen.

### ExtractionSummary

Represents the summary of the extractions.

#### Attributes

##### `categories`

Type: `map[string]extractioninformation`

The categories are remapping of the modalities in a more human friendly way.

##### `confidenceLevels`

Type: `map[string]extractioninformation`

The detected confidence levels.

##### `dataSets`

Type: `map[string]extractioninformation`

The detected datasets.

##### `dataTypes`

Type: `map[string]extractioninformation`

The detected dataTypes.

##### `exploits`

Type: `map[string]extractioninformation`

The various exploits attempts.

##### `intent`

Type: `map[string]extractioninformation`

The estimated intent embodied into the text.

##### `keywords`

Type: `map[string]extractioninformation`

The keywords found during classification.

##### `languages`

Type: `map[string]extractioninformation`

The language of the classification.

##### `malcontents`

Type: `map[string]extractioninformation`

The various malcontents attempts.

##### `modalities`

Type: `map[string]extractioninformation`

The modalities of data detected in the data.

##### `topics`

Type: `map[string]extractioninformation`

The topic of the classification.

### Extractor

An extractor allows to create a reusable extractor for providers.

#### Example

```json
{
  "SSEManagement": "Collect",
  "anonymization": "FixedSize",
  "behavior": "Popup",
  "block": "Allow",
  "cancelBehavior": "Block",
  "deanonymize": false,
  "honorPriorDecision": false,
  "ignore": false,
  "method": [
    "Post"
  ],
  "name": "my-extractor",
  "path": [
    "/api/v1",
    "/v1/*/hello/*"
  ],
  "propagate": true,
  "type": "Input"
}
```

#### Relations

##### `GET /extractors`

List all available extractors.

Parameters:

- `q` (`string`): This is an example.

##### `POST /extractors`

Creates a new extractor.

##### `DELETE /extractors/:id`

Delete an extractor given its identifier.

##### `GET /extractors/:id`

Retrieve an extractor given its identifier.

##### `PUT /extractors/:id`

Update an extractor given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `SSEManagement`

Type: `enum(Collect | Stream)`

This property defines how you want the extractor to work with
server-side events. With Collect all the events buffer until the server
closes the connection and sends the entire data to the lua code
while Stream will collect line by line and will send events line by line.

Default value:

```json
"Collect"
```

##### `analyzers`

Type: `[]string`

The analyzers parameter allows for customizing which analyzers should be used,
overriding the default selection. Each analyzer entry can optionally include a
prefix to modify its behavior:

  - No prefix: Runs only the specified analyzers and any dependencies required
for deeper analyzis (slower but more acurate).
  - '+' (enable): Activates an analyzer that is disabled by default.
  - '-' (disable): Disables an analyzer that is enabled by default.
  - '@' (direct execution): Runs the analyzer immediately, bypassing the deeper
analyzis (faster but less acurate).

An analyzers entry can be specified using:
  - The analyzer name (e.g., 'Toxicity detector')
  - The analyzer ID (e.g., 'en-text-toxicity-detector')
  - The analyzer group (e.g., 'Detectors')
  - A detector name (e.g., 'toxic')
  - A detector label (e.g., 'insult')
  - A detector group (e.g., 'Malcontents')

If left empty, all default analyzers will be executed.

##### `anonymization`

Type: `enum(FixedSize | VariableSize)`

How to anonymize the data. If deanonymize is true, then VariablSize is required.

Default value:

```json
"FixedSize"
```

##### `behavior`

Type: `enum(Popup | Throw | Ignore)`

Defines how to handle error in the case of a webpage. If set to Popup, the error
will be shown in a popup. If throw, a javascript error will be returned.

Default value:

```json
"Popup"
```

##### `block`

Type: `enum(Allow | Before | After)`

Block the request to the provider if not Allow. If Before, the data will be
blocked before running any extraction or analyzis. If After block the request
after analysizis.

Default value:

```json
"Allow"
```

##### `cancelBehavior`

Type: `enum(Block | SendRedacted)`

The behavior to take when cancel is chosen from the popup.

Default value:

```json
"Block"
```

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `deanonymize`

Type: `boolean`

If true, deanonymize the redacted data. This has no effects on streaming output.

##### `description`

Type: `string`

The description of the provider.

##### `honorPriorDecision`

Type: `boolean`

If true, it will wait on a prior popup and honor its decision. It only has
effect if there is an existing popup being shown.

##### `ignore`

Type: `boolean`

If true, the analysis will run, but nothing will be logged.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `method` [`required`]

Type: `enum(Post | Put | Patch | Get | Delete | Options | Head)`

The method to match.

##### `name` [`required`,`creation_only`,`format=^[a-zA-Z0-9-_/]+$`]

Type: `string`

The internal reference name of the object.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `path` [`required`]

Type: `string`

A regular expression to match a URL path to log.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `script`

Type: `string`

If not empty, use this lua code to run the extraction.

##### `type` [`required`]

Type: `enum(Input | Output)`

The type of extractor.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### ExtractorRef

This object allows to either define an extractor for the provider, or to
reference an existing extractor from database.

#### Attributes

##### `def`

Type: [`extractor`](#extractor)

Defines an extractor for this reference.

##### `hosts`

Type: `[]string`

Optional hosts to match. This is useful in case the provider has multiple hosts
to discriminate which logger to use.

##### `ref`

Type: `string`

References a preexisting extractor definition.

### Feedback

Feedbacks from user regarding analysis decisions.

#### Example

```json
{
  "key": "pii:emailid",
  "logHash": 4449147649844796362,
  "logUnixNano": 1741797027131412000,
  "principal": "{
  \"type\": \"User\",
  \"user\": {
      \"authType\": \"Certificate\",
      \"team\": \"engineers\",
      \"user\": \"someone@somewhere.com\"
  }
}",
  "provider": "openai",
  "status": "New",
  "value": "tester@acuvity.ai"
}
```

#### Relations

##### `GET /feedbacks`

List all feedbacks.

Parameters:

- `q` (`string`): This is an example.

##### `POST /feedbacks`

Creates a new feedback.

##### `DELETE /feedbacks/:id`

Delete a feedback given its identifier.

##### `GET /feedbacks/:id`

Retrieve a feedback given its identifier.

##### `PUT /feedbacks/:id`

Update a feedback given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `comment`

Type: `string`

General comments on the feedback.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `key` [`required`,`creation_only`]

Type: `string`

The key of the feedback.

##### `logHash` [`required`,`creation_only`]

Type: `string`

The hash of the log.

##### `logUnixNano` [`required`,`creation_only`]

Type: `string`

The timestamp of the log.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `principal` [`required`]

Type: [`principal`](#principal)

The principal of the object.

##### `provider` [`required`,`creation_only`]

Type: `string`

The provider of the feedback.

##### `score`

Type: `integer`

The feedback score (+1 for upvote, -1 for downvote).

##### `status` [`required`]

Type: `enum(New | Investigating | Confirmed | Rejected)`

The status of the feedback.

Default value:

```json
"New"
```

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

##### `value` [`required`,`creation_only`]

Type: `string`

The value of the feedback.

### GitbookToken

Allows to exchange an Acuvity token for a token signed for our documentation.

#### Relations

##### `GET /gitbooktokens`

List all available access policies.

#### Attributes

##### `token` [`autogenerated`,`read_only`]

Type: `string`

The token to access gitbook. This is not a valid acuvity token.

### Host

This is node definition.

#### Example

```json
{
  "disableFingerprintingResistance": false,
  "name": "chat.openai.com",
  "proxyLabel": "default"
}
```

#### Attributes

##### `disableFingerprintingResistance`

Type: `boolean`

Disable Apex routines to try to mimic client's tls handshake signature. You
probably want this on.

##### `name` [`required`]

Type: `string`

The hostname.

##### `prefix`

Type: `string`

URL prefix for additional matching.

##### `proxyLabel`

Type: `string`

The proxy label to use to exit to this host.

### IgnoredDomain

Defines an ignored domain to be excluded from investigation.

#### Example

```json
{
  "domain": "linkedin.com",
  "propagate": true
}
```

#### Relations

##### `GET /ignoreddomains`

List all ignored domains.

Parameters:

- `q` (`string`): This is an example.

##### `POST /ignoreddomains`

Creates a new ignored domain.

##### `DELETE /ignoreddomains/:id`

Delete an ignored domain given its identifier.

##### `GET /ignoreddomains/:id`

Retrieve an ignored domain given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `domain` [`required`,`creation_only`]

Type: `string`

The domain to ignore.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### IngestTrace

Ingest Traces allows to import OTLP traces into the system.

#### Example

```json
{
  "principal": "{
  \"type\": \"User\",
  \"user\": {
      \"authType\": \"Certificate\",
      \"team\": \"engineers\",
      \"user\": \"someone@somewhere.com\"
  }
}",
  "raw": "{
  \"resourceSpans\": [
    {
      \"resource\": {
        \"attributes\": [
          {
            \"key\": \"service.name\",
            \"value\": {
              \"stringValue\": \"my.service\"
            }
          }
        ]
      },
      \"scopeSpans\": [
        {
          \"scope\": {
            \"name\": \"my.library\",
            \"version\": \"1.0.0\",
            \"attributes\": [
              {
                \"key\": \"my.scope.attribute\",
                \"value\": {
                  \"stringValue\": \"some scope attribute\"
                }
              }
            ]
          },
          \"spans\": [
            {
              \"traceId\": \"5B8EFFF798038103D269B633813FC60C\",
              \"spanId\": \"EEE19B7EC3C1B174\",
              \"parentSpanId\": \"EEE19B7EC3C1B173\",
              \"name\": \"I'm a server span\",
              \"startTimeUnixNano\": \"1544712660000000000\",
              \"endTimeUnixNano\": \"1544712661000000000\",
              \"kind\": 2,
              \"attributes\": [
                {
                  \"key\": \"my.span.attr\",
                  \"value\": {
                    \"stringValue\": \"some value\"
                  }
                }
              ]
            }
          ]
        }
      ]
    }
  ]
}"
}
```

#### Relations

##### `POST /ingesttraces`

Imports OpenTelemetry traces.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `principal` [`required`]

Type: [`principal`](#principal)

The principal of the object.

##### `raw`

Type: `string`

The raw OTLP traces in JSON encoded format. If this is set, you must not set the
traces field. This will ingest everything about this trace and make it available
to Acuvity.

##### `traces`

Type: [`[]traceref`](#traceref)

The traces to ingest. If this is set, the raw input field must not be set. This
is the recommended way on how to ingest trace data into Acuvity. This will
ingest
only the necessary core data of a trace.

### IngressProviderConfig

Represents the configuration if an apex is to act as an ingress for a provider.

#### Example

```json
{
  "dialTLS": "Enabled",
  "listenPort": 8443,
  "listenTLS": "Enabled",
  "listenTLSCert": "-----BEGIN CERTIFICATE-----
MIIF...
...
-----END CERTIFICATE-----",
  "listenTLSKey": "-----BEGIN EC PRIVATE KEY-----
MHcCA...
...
-----END EC PRIVATE KEY-----",
  "mode": "Inline"
}
```

#### Attributes

##### `dialTLS`

Type: `enum(Preserve | Auto | Enabled | Disabled)`

This option controls the dialing behaviour of the apex to the origin server.
Should be explicitly set to enabled if the origin expects TLS connections. And
vice versa it should be set to disabled if the origin expects connections in
plaintext. By default this setting is set to preserve which means that the apex
is going to dial using whatever mode it terminated its own connection with: if
the apex received a TLS connection, it will dial TLS, if it received a plaintext
connection, then it will dial plaintext. The apex receiving behaviour can be
controlled with the listenTLS option. As a last resort this setting can be set
to auto which means that the apex is going to probe the origin server to
determine if it needs to dial using TLS or not. Note that this is potentially
sending a TLS Client Hello to a plaintext HTTP server which is not expecting
that. Therefore, this option is not recommended if it can be avoided. This
setting is ignored in mirror mode.

Default value:

```json
"Preserve"
```

##### `listenPort` [`required`,`min_value=1.000000`,`max_value=65535.000000`]

Type: `integer`

The listening port. For appcomponent configurations this is the listening port
that traffic will be intercepted on or mirrored from.

##### `listenTLS`

Type: `enum(Auto | Enabled | Disabled)`

This option controls the receiving behaviour of connection to the apex before
they are going to be proxied to the origin server. To control the dialing
behaviour of the apex towards the origin server use the dialTLS option. Should
be explicitly set to enabled if the listener expects TLS connections. And vice
versa it should be set to disabled if the listener expects connections in
plaintext. By default this setting is set to auto which means that the listener
will automatically determine if incoming connections are TLS or not: TLS
connections will be accepted, as well as  plain TCP connections will be
accepted, both on the configured listenPort. This setting is ignored in mirror
mode.

Default value:

```json
"Auto"
```

##### `listenTLSCert`

Type: `string`

Optional PEM encoded X509v3 certificate to use for the listener for this
provider. This setting will be ignored if listenMode is not TLS or Auto or mode
is not Inline. However, this setting is required if listenTLSKey is set.

##### `listenTLSKey`

Type: `string`

Optional PEM encoded key pair to use for the listener for this provider. This
setting will be ignored if listenMode is not TLS or Auto or mode is not Inline.
However, this setting is required if listenTLSCert is set.

##### `mode`

Type: `enum(Disabled | Mirror | Inline)`

The ingress datapath mode to use for network traffic arriving for this ingress
provider for this application component. By default this is set to disabled.
However, this can be changed to mirror traffic where the Apex is only providing
visibility with no possibility of any access or content policies to take effect.
Or this can be set to inline in which case all traffic to providers will be
redirected to the Apex which acts as a transparent proxy in this case. In this
mode access and content policies will take effect.

Default value:

```json
"Disabled"
```

### Injector

TODO.

#### Example

```json
{
  "delayXHRPatching": false,
  "disableBodyReplacement": false,
  "method": [
    "Post"
  ],
  "path": [
    "/api/v1",
    "/v1/*/hello/*"
  ]
}
```

#### Attributes

##### `delayXHRPatching`

Type: `boolean`

Since JS world is the mess we all know, there are some cases when we must delay
the monkey patching of the XHR request.

##### `disableBodyReplacement`

Type: `boolean`

If this is true, the acuvity popup will be shown on top the existing body of the
provider, instead of replacing it. It usually causes a lot of issue, but on some
weirdos (microsoft),
it's the opposite.

##### `hosts`

Type: `[]string`

Optional hosts to match. This is useful in case the provider has multiple hosts
to discriminate which logger to use.

##### `method` [`required`]

Type: `enum(Post | Put | Patch | Get | Delete | Options | Head)`

The method to match.

##### `path` [`required`]

Type: `string`

A regular expression to match a URL path to log.

### LabelValue

Get all values for a given label.

#### Example

```json
{
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "label": [
    "decision"
  ],
  "query": "{\"app\": \"myapp\", \"environment\": \"dev\"}",
  "start": 1700083708672317036,
  "startRelative": "10h"
}
```

#### Relations

##### `POST /labelvalues`

Requests all values for a label.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `label` [`required`]

Type: `string`

The label to retrieve all available the values for.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query`

Type: `string`

A set of log stream selector that selects the streams to match and return label
values for.

##### `result`

Type: `[]string`

The result of the request.

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

### Landing

Potential Landing namespaces based on permissions.

#### Example

```json
{
  "type": "Apps"
}
```

#### Relations

##### `GET /landings`

List all available landings.

#### Attributes

##### `ID`

Type: `string`

The identifier of the landing.

##### `permissions`

Type: `map[string]map[string]bool`

The permissions for the landing type.

##### `type`

Type: `enum(Apps | Employees | All)`

Type of access.

### Latency

Holds information about latencies introduced by Apex.

#### Attributes

##### `accessPolicy`

Type: `integer`

How much time it took to run the access policy in nanoseconds.

##### `analysis`

Type: `integer`

How much time it took to run content analysis in nanoseconds.

##### `assignPolicy`

Type: `integer`

How much time it took to run the assign policy in nanoseconds.

##### `contentPolicy`

Type: `integer`

How much time it took to run content policy in nanoseconds.

##### `extraction`

Type: `integer`

How much time it took to run input or output extraction in nanoseconds.

### Mapper

TODO.

#### Example

```json
{
  "expiration": "1h",
  "method": [
    "Post"
  ],
  "path": [
    "/api/v1",
    "/v1/*/hello/*"
  ]
}
```

#### Attributes

##### `expiration`

Type: `string`

Set how long the data should be cached.

Default value:

```json
"1h"
```

##### `hosts`

Type: `[]string`

Optional hosts to match. This is useful in case the provider has multiple hosts
to discriminate which logger to use.

##### `method` [`required`]

Type: `enum(Post | Put | Patch | Get | Delete | Options | Head)`

The method to match.

##### `name`

Type: `string`

The name of the extractor. It will be used to identify which extractor was used
during an extraction.

##### `path` [`required`]

Type: `string`

A regular expression to match a URL path to log.

##### `script`

Type: `string`

If not empty, use this lua code to run the extraction.

### MCPMessage

Represents MCP message details.

#### Example

```json
{
  "direction": "Client2Server",
  "isError": false,
  "method": "tools/call",
  "requestID": "2",
  "sessionID": "1f02aa20-22d8-6e87-8432-be15d4f7b5b2",
  "type": "Request"
}
```

#### Attributes

##### `direction` [`required`]

Type: `enum(Client2Server | Server2Client)`

The communication direction of the MCP message which can be from client to
server, or from server to client.

##### `isError`

Type: `boolean`

IsError is true in case if a response is an error response as opposed to a
result. Note that this is not the same as a result which has isError set to true
within the result. This is a protocol level error. This will always be false for
requests and notifications, and false for reponses when the response has a
result.

##### `method`

Type: `string`

This is the method name of the request or notification. Contrary to MCP this is
set on responses as well if possible in which case the format will be of the
form method/params.name.

##### `requestID`

Type: `string`

The ID of a request or a response. We always extract this as a string even
though this can be a string or number in MCP. It is derived from the id field of
a request or a response.

##### `sessionID`

Type: `string`

The session ID that this MCP message belongs to. This is strictly speaking not
part of MCP, and this can be empty.

##### `type` [`required`]

Type: `enum(Request | Response | Notification)`

The MCP message type which can be Request, Response or Notification.

### MCPServer

Represents an MCP server object.

#### Example

```json
{
  "allowedTools": [
    "deepwiki_search",
    "deepwiki_fetch"
  ],
  "name": "deepwiki",
  "url": "https://mcp.deepwiki.com/mcp"
}
```

#### Attributes

##### `allowedTools`

Type: `[]string`

The allowed tools that the caller has access to. If empty, this means that the
caller has access to all tools provided by this MCP server.

##### `name`

Type: `string`

The name of the MCP server.

##### `url` [`required`]

Type: `string`

The URL of the MCP server.

### MCPToolAnnotations

Represents the tool annotations as they can be optionally defined for MCP tools.

#### Example

```json
{
  "destructiveHint": false,
  "idempotentHint": false,
  "openWorldHint": false,
  "readOnlyHint": false
}
```

#### Attributes

##### `destructiveHint`

Type: `boolean`

If true, the tool may perform destructive updates.

##### `idempotentHint`

Type: `boolean`

If true, repeated calls with same args have no additional effect.

##### `openWorldHint`

Type: `boolean`

If true, tool interacts with external entities.

##### `readOnlyHint`

Type: `boolean`

If true, the tool does not modify its environment.

##### `title`

Type: `string`

Human-readable title for the tool.

### Metric

This is a metric stored in Mimir.

#### Example

```json
{
  "query": [
    "sample_metric{environment=\"production\"}"
  ],
  "time": 1700083708672317036,
  "timeRelative": "10h"
}
```

#### Relations

##### `POST /metrics`

Creates a metric query.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query` [`required`]

Type: `string`

The query in Prometheus query format.

##### `result`

Type: `[]map[string]any`

The result of the request.

##### `resultType`

Type: `string`

The type of the result.

##### `time`

Type: `string`

The time for the query in any format supported by
https://github.com/araddon/dateparse.

##### `timeRelative`

Type: `string`

The relative time of the time window as time.Duration.

### MetricLabelValue

Get all metric values for a given label.

#### Example

```json
{
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "label": [
    "decision"
  ],
  "limit": 100,
  "query": "{\"app\": \"myapp\", \"environment\": \"dev\"}",
  "start": 1700083708672317036,
  "startRelative": "10h"
}
```

#### Relations

##### `POST /metriclabelvalues`

Requests all metrics for a label.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `label` [`required`]

Type: `string`

The label to retrieve all available values for.

##### `limit`

Type: `integer`

The max number of results to return.

Default value:

```json
100
```

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query`

Type: `string`

A set of metric stream selectors that selects the streams to match and return
label values for.

##### `result`

Type: `[]string`

The result of the request.

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

### MetricRange

This is a metric range stored in Mimir.

#### Example

```json
{
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "query": [
    "sample_metric{environment=\"production\"}"
  ],
  "start": 1700083708672317036,
  "startRelative": "10h",
  "step": "15s"
}
```

#### Relations

##### `POST /metricranges`

Creates a metric range query.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query` [`required`]

Type: `string`

The query in Prometheus query format.

##### `result`

Type: `[]map[string]any`

The result of the request.

##### `resultType`

Type: `string`

The type of the result.

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

##### `step`

Type: `string`

The query resolution step width as time.Duration.

Default value:

```json
"15s"
```

### MetricSerie

This is a metric serie.

#### Example

```json
{
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "limit": 100,
  "query": [
    "sample_metric{environment=\"production\"}"
  ],
  "start": 1700083708672317036,
  "startRelative": "10h"
}
```

#### Relations

##### `POST /metricseries`

Create a metric series request.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `limit`

Type: `integer`

The max number of results to return.

Default value:

```json
100
```

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query` [`required`]

Type: `string`

The query in Prometheus format.

##### `result`

Type: `[]map[string]string`

The result of the request.

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

### Modality

Represents the modality of a some data.

#### Example

```json
{
  "group": "image",
  "type": "png"
}
```

#### Attributes

##### `group` [`required`]

Type: `string`

The group of data.

The current list can be obtained through the analyzers API by searching for
detector groups in the 'Modality' analyzer group.

Example of group: application, archive, audio, code, document, executable, font,
image, text, unknown, video.

##### `type` [`required`]

Type: `string`

The type of data.

The current list can be obtained through the analyzers API by searching for
detector names in the 'Modality' analyzer group.

Example of type: 3dsm, 3gp, 3mf, ace, ada, ai, apk, applebplist, appleplist, ar,
arc, arj, asc, asf, asm, asp, au, autohotkey, autoit, avi, avif, awk, ax, batch,
bazel, bcad, bib, bmp, bpg, brainfuck, brf, bzip, bzip3, c, cab, cat, cdf, chm,
clojure, cmake, cobol, coff, coffeescript, com, cpl, cpp, crt, crx, cs, csproj,
css, csv, dart, deb, dex, dey, dicom, diff, django, dll, dm, dmg, dmigd,
dmscript, doc, dockerfile, docx, dotx, dwg, dxf, dylib, elf, elixir, emf, eml,
epub, erb, erlang, exe, flac, flv, fortran, fpx, gemfile, gemspec, gif,
gitattributes, gitmodules, gleam, go, gradle, groovy, gzip, h, h5, handlebars,
haskell, hcl, heif, hlp, hpp, hta, htaccess, html, hwp, icns, ico, ics,
ignorefile, ini, internetshortcut, ipynb, iso, jar, java, javabytecode,
javascript, jinja, jng, jnlp, jp2, jpeg, json, jsonl, jsx, julia, jxl, ko,
kotlin, latex, lha, license, lisp, lnk, lock, lua, lz, lz4, m3u, m4, macho,
makefile, markdown, matlab, mht, midi, mkv, mp3, mp4, mpegts, mscompress, msi,
msix, mui, mum, npy, npz, objectivec, ocaml, ocx, odex, odin, odp, ods, odt,
ogg, one, onnx, otf, outlook, pascal, pcap, pdb, pdf, pebin, pem, perl, php,
pickle, png, po, postscript, powershell, ppt, pptx, prolog, proteindb, proto,
psd, python, pythonbytecode, pytorch, qoi, qt, r, randomascii, rar, rdf, rlib,
rll, rpm, rst, rtf, ruby, rust, scala, scheme, scr, scss, sevenzip, sgml, shell,
smali, snap, so, solidity, sql, sqlite, squashfs, srt, stlbinary, stltext, sum,
svg, swf, swift, symlinktext, sys, tar, tcl, textproto, tga, thumbsdb, tiff,
toml, torrent, tsv, tsx, ttf, twig, txt, txtascii, txtutf16, txtutf8,
typescript, vba, vbe, vcxproj, verilog, vhdl, visio, vtt, vue, wad, wasm, wav,
webm, webp, webtemplate, winregistry, wma, wmf, wmv, woff, woff2, xar, xcf, xls,
xlsb, xlsx, xml, xpi, xz, yaml, yara, zig, zip, zlibstream, zst.

### Moderation

Represents a moderation to take in the content policy.

#### Example

```json
{
  "action": "Warn",
  "link": "https://acme.com/policy/aiusage",
  "message": "This is not safe for work place (NSFW)",
  "redact": false
}
```

#### Attributes

##### `action` [`required`]

Type: `enum(Warn | Block | None)`

The actual action to take when triggered.

##### `alertDefinition`

Type: `string`

The definition to use for alerting.

##### `link`

Type: `string`

Sets an optional link to reference a document with more explanation on the
moderation.

##### `message`

Type: `string`

The message if the moderation action is warn or block.

##### `predicates`

Type: [`[]predicate`](#predicate)

The predicate expression for the moderation to be triggered.

##### `redact`

Type: `boolean`

If true, redacts the keywords, PIIs, and/or secrets defined in the predicates.

### OrgSettings

Manage the default settings for the entire organization.

#### Example

```json
{
  "CA": "-----BEGIN CERTIFICATE-----
MIIBZTCCAQugAwIBAgIRANYvXLTa16Ykvc9hQ4BBLJEwCgYIKoZIzj0EAwIwEjEQ
MA4GA1UEAxMHQUNNRSBDQTAeFw0yMTExMDEyMzAwMTlaFw0zMTA5MTAyMzAwMTla
MBIxEDAOBgNVBAMTB0FDTUUgQ0EwWTATBgcqhkjOPQIBBggqhkjOPQMBBwNCAASa
7wknroxwB1znupZ67NzTG9Kuc+tNRlbI22eTDNMKYpIexzWDOyiQ95N3GQIdmAz5
wVu9l2V3VuKUpD9mNgkRo0IwQDAOBgNVHQ8BAf8EBAMCAQYwDwYDVR0TAQH/BAUw
AwEB/zAdBgNVHQ4EFgQURIT2kL76vMj9A3r9AUnaiHnHf4EwCgYIKoZIzj0EAwID
SAAwRQIgS4SGaJ/B1Ul88Jal11Q5BwiY9bY2y9w+4xPNBxSyAIcCIQCSWVq+00xS
bOmROq+EsxO4L/GzJx7MBbeJ6x142VKSBQ==
-----END CERTIFICATE-----",
  "allowSupportAccess": false,
  "askConsent": false,
  "disableURLDiscovery": false,
  "profile": "Acme Corp is a publicly traded company specialized in car manufacturing.",
  "propagate": true,
  "reportRecipientEmails": [
    "info@acuvity.ai",
    "me@email.com"
  ],
  "storeInputFiles": false,
  "storeOutputFiles": false,
  "useRegoCodeOnly": false
}
```

#### Relations

##### `GET /orgsettings`

List all orgsettings.

Parameters:

- `q` (`string`): This is an example.

##### `POST /orgsettings`

Creates a new orgsettings.

##### `DELETE /orgsettings/:id`

Delete a organization given its identifier.

##### `GET /orgsettings/:id`

Retrieve a organization given its identifier.

##### `PUT /orgsettings/:id`

Update a organization given its identifier.

#### Attributes

##### `CA`

Type: `string`

The Certificate authority to use to validate user certificates in PEM format.

##### `CACommonNames` [`autogenerated`,`read_only`]

Type: `[]string`

The currently used Certificate authorities's Common Name.

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `accessPolicy`

Type: `string`

The rego policy that decides if the incoming request can access the
provider. If this empty, the dynamic policy transpiled from
AccessPolicies API objects will be used by Apexes. If set however,
everything computed by API objects are ignored and this becomes the final
policy.

##### `allowSupportAccess`

Type: `boolean`

When enabled, an API authorization will be created in your
organization to allow the Support Team to access your organization in
read-only fashion to help you with any issue you might have.
Disable it again to remove the permissions.

##### `askConsent`

Type: `boolean`

Ask the user of web applications for consent before accessing a monitored
provider, using an html splash screen the first time they connect. If
this is not set, the users of the providers can still figure out the
provider is monitored. This is a courtesy and not a security feature.

##### `assignPolicy`

Type: `string`

The rego policy that decides in which team an user should be in. The team
will be passed to the accessPolicy. If this empty, the dynamic policy
transpiled from AssignPolicies API objects will be used by Apexes. If set
however, everything computed by API objects are ignored and this becomes
the final policy.

##### `contentPolicy`

Type: `string`

The policy that decides how to handle the request content, once access
has been granted by accessPolicy and the content analysis was performed.
If this empty, the dynamic policy transpiled from AccessPolicies API
objects will be used by Apexes. If set however, everything computed by
API objects are ignored and this becomes the final policy.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `disableURLDiscovery`

Type: `boolean`

If true, it disables discovering of the visited URLs.

##### `fingerprints` [`autogenerated`,`read_only`]

Type: `[]string`

the fingerprint of the cas in the chain.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `profile`

Type: `string`

A few sentences about the organization. The description must be short
and detailed. It will be used by the inference engine to decide if the content
sent by the users are relevant to your company.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `providersWithoutConsent`

Type: `[]string`

The providers which do not request employees' consent.

##### `reportRecipientEmails`

Type: `[]string`

The list of email recipients where digest reports will be sent to.

##### `safeUsageURL`

Type: `string`

A link to the AI Safe Usage Document for the organization.
If provided, it is presented in the consent banner to the employees.

##### `storeInputFiles`

Type: `boolean`

If set, files uploaded by the users will be stored.

##### `storeOutputFiles`

Type: `boolean`

If set, files sent to the users will be stored.

##### `subjectKeyIDs` [`autogenerated`,`read_only`]

Type: `[]string`

the IDs of the subject keys of the cas in the chain.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

##### `useRegoCodeOnly`

Type: `boolean`

If true, it uses Rego code to define team assignment, provider access and
content policies.

### OrgStorage

OrgStorage stores some adhoc information for the organization.

#### Example

```json
{
  "key": "onboarding.",
  "value": "completed."
}
```

#### Relations

##### `GET /orgstorages`

List all available orgstorages.

Parameters:

- `q` (`string`): This is an example.

##### `POST /orgstorages`

Creates a new orgstorage.

##### `DELETE /orgstorages/:id`

Delete an orgstorage given its identifier.

##### `GET /orgstorages/:id`

Retrieve an orgstorage given its identifier.

##### `PUT /orgstorages/:id`

Update an orgstorage given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `key` [`required`]

Type: `string`

Key of the storage.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

##### `value` [`required`]

Type: `string`

Value of the storage.

### OTLPEndpoint

Represents an OTLP endpoint.

#### Example

```json
{
  "endpoint": "http://my-otlp-receiver.example.com/v1/traces",
  "protocol": "HTTPProtobuf",
  "timeout": 10000
}
```

#### Attributes

##### `endpoint` [`required`]

Type: `string`

Endpoint URL for trace data, with an optionally-specified port number. Typically
ends with v1/traces when using OTLP/HTTP.

##### `headers`

Type: `map[string]string`

A list of headers to apply to all outgoing traces.

##### `protocol` [`required`]

Type: `enum(GRPC | HTTPProtobuf | HTTPJSON)`

Specifies the OTLP transport protocol to be used for trace data. Note that this
depends on the OTLP receiver being used.

##### `timeout` [`min_value=10.000000`,`max_value=60000.000000`]

Type: `integer`

The timeout value for all outgoing traces in milliseconds.

Default value:

```json
10000
```

##### `trustedCA`

Type: `string`

If set, additionally trust the Certificate Authorities from the PEM data when
connecting to the endpoint over https.

### OTLPReceiver

Represents an OTLP receiver.

#### Example

```json
{
  "endpoint": "127.0.0.1:4318",
  "listenTLSCert": "-----BEGIN CERTIFICATE-----
MIIF...
...
-----END CERTIFICATE-----",
  "listenTLSKey": "-----BEGIN EC PRIVATE KEY-----
MHcCA...
...
-----END EC PRIVATE KEY-----",
  "protocol": "HTTP"
}
```

#### Attributes

##### `endpoint` [`required`]

Type: `string`

Endpoint configures the listening address for the server.

##### `listenTLSCert`

Type: `string`

Optional PEM encoded X509v3 certificate to use for the listener for this OTLP
receiver. This setting is required if listenTLSKey is set.

##### `listenTLSKey`

Type: `string`

Optional PEM encoded key pair to use for the listener for this OTLP receiver.
This setting is required if listenTLSCert is set.

##### `protocol` [`required`]

Type: `enum(GRPC | HTTP)`

Specifies the OTLP transport protocol to be used for trace data. Note that this
depends on the OTLP receiver being used.

### PACConfig

PAC Config allows to create a custom PAC, with a selection of services enabled.

#### Example

```json
{
  "name": "production",
  "providers": [
    "chatgpt",
    "microsoft-copilot"
  ]
}
```

#### Relations

##### `GET /pacconfigs`

List all pac configs.

Parameters:

- `q` (`string`): This is an example.

##### `POST /pacconfigs`

Creates a new pac config.

##### `DELETE /pacconfigs/:id`

Delete an pacconfig given its identifier.

##### `GET /pacconfigs/:id`

Retrieve an pacconfig given its identifier.

##### `PUT /pacconfigs/:id`

Update an pacconfig given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`required`]

Type: `string`

Name of the PAC config. A special name is 'default'. The default pac will be the
one that APEX returns if nothing else is configured.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `providers` [`required`]

Type: `[]string`

The list of providers to activate for that PAC config.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### PageDataView

Represents a page data view.

#### Example

```json
{
  "name": "all-chatgpt-conversations",
  "pageID": "conversations",
  "predicates": "[
  {
    \"key\": \"provider\"
    \"operator\": \"Equals\"
    \"values\": [\"chatgpt\"]
  }
]"
}
```

#### Relations

##### `GET /pagedataviews`

List all page data views.

Parameters:

- `q` (`string`): This is an example.

##### `POST /pagedataviews`

Creates a new page data view.

##### `DELETE /pagedataviews/:id`

Deletes the page data view with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /pagedataviews/:id`

Retrieves the page data view with the given ID.

##### `PUT /pagedataviews/:id`

Updates the page data view with the given ID.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `name` [`required`]

Type: `string`

The name of the page data view.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `pageID` [`required`]

Type: `string`

The name of the page.

##### `predicates`

Type: [`[]pagedataviewpredicate`](#pagedataviewpredicate)

The match criteria used to make a query.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### PageDataViewPredicate

Represents a page data view predicate.

#### Example

```json
{
  "key": "name",
  "operator": "Equals",
  "values": [
    "chatgpt"
  ]
}
```

#### Attributes

##### `key` [`required`]

Type: `string`

The key of the page data view predicate.

##### `operator` [`required`]

Type: `enum(All | Any | Empty | Equals | EqualsOrGreaterThan | EqualsOrLesserThan | NotAny | NotEmpty | NotEquals)`

The operator of the page data view predicate.

##### `values`

Type: `[]any`

The values of the predicate.

### PolicyRef

Reference a policy.

#### Example

```json
{
  "matchingTeams": [
    "team-a",
    "team-b"
  ],
  "policyID": "xxx-xxx-xxx-xxx",
  "policyIdentity": "default",
  "policyName": "frontend",
  "policyNamespace": "frontend"
}
```

#### Attributes

##### `matchingTeams`

Type: `[]string`

Teams that were used to trigger this policy.

##### `policyID` [`required`]

Type: `string`

The ID of the referenced policy.

##### `policyIdentity` [`required`]

Type: `string`

The identity name of the referenced policy.

##### `policyName` [`required`]

Type: `string`

The name of the referenced policy.

##### `policyNamespace` [`required`]

Type: `string`

The namespace of the referenced policy.

### PolicyUpdate

Object used to notify Apexes for policy changes.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

### Predicate

Represents a Predicate.

#### Example

```json
{
  "key": "Provider",
  "operator": "Equals",
  "score": 0.8,
  "values": "xxx-xxx-xxx-xxx"
}
```

#### Attributes

##### `key` [`required`]

Type: `enum(Categories | Confidentiality | CustomDataTypes | DstApp | DstComponent | DstIPRange | Exploits | IsIngress | Keywords | Languages | Malcontents | Modality | Model | PIIs | Plugin | Provider | Relevance | RiskScore | Secrets | Size | SrcApp | SrcComponent | SrcIPRange | Status | Team | Tools | Topics | Workspace)`

The key of the predicate.

##### `operator` [`required`]

Type: `enum(All | Any | Empty | Equals | EqualsOrGreaterThan | EqualsOrLesserThan | NotAny | NotEmpty | NotEquals)`

The operator of the predicate.

##### `score`

Type: `float`

The minimum (including) score the detection must have in order to make the
predicate true.

##### `values`

Type: `[]any`

The values of the predicate.

### Principal

Describe the principal.

#### Example

```json
{
  "IP": "192.0.2.42",
  "authType": "Certificate",
  "teams": "admins",
  "tokenName": "my-user-token",
  "type": [
    "User"
  ]
}
```

#### Attributes

##### `IP`

Type: `string`

The source IP address of the request.

##### `app`

Type: [`principalapp`](#principalapp)

The application principal information if type is App.

##### `authType`

Type: `enum(Certificate | UserToken | AppToken | Hostname | Token | ComponentToken | External)`

The type of authentication.

##### `claims`

Type: `[]string`

List of claims extracted from the user query.

##### `teams`

Type: `[]string`

The teams that were used to authorize the request.

##### `tokenName`

Type: `string`

The name of the token, if any.

##### `type` [`required`]

Type: `enum(User | App | External)`

The type of principal.

##### `user`

Type: [`principaluser`](#principaluser)

The user principal information if type is User.

### PrincipalApp

Describes the principal information of an application.

#### Example

```json
{
  "component": "frontend",
  "labels": [
    "country=us",
    "another-label"
  ],
  "name": "MyApp"
}
```

#### Attributes

##### `component`

Type: `string`

The component of the application request.

##### `labels`

Type: `[]string`

The list of labels attached to an application request.

##### `name`

Type: `string`

The name of the application.

##### `user`

Type: [`principalappuser`](#principalappuser)

The optional user information of the application request.

### PrincipalAppUser

Describes the optional principal information of the user of an application which
is being derived from a bearer token of a request.

#### Example

```json
{
  "email": "john.doe@acme.com",
  "name": "John Doe",
  "tokenValidated": false
}
```

#### Attributes

##### `email`

Type: `string`

The Email address of the user. This will be derived from the email claims of a
token like email, emailAddress or upn.

##### `name`

Type: `string`

The given name of the user. This will be derived from the common name claims of
a token like name or given_name.

##### `tokenValidated`

Type: `boolean`

This will be true if the apex was able to validate the token in the request.

### PrincipalUser

Describes the principal information of a user.

#### Example

```json
{
  "name": "user@company.com"
}
```

#### Attributes

##### `name`

Type: `string`

Identification bit that will be used to identify the origin of the request.

### Project

Project is a container for a set of policies and authorization.

#### Example

```json
{
  "name": "demo"
}
```

#### Relations

##### `GET /projects`

List all projects.

Parameters:

- `q` (`string`): This is an example.

##### `POST /projects`

Creates a new project.

##### `DELETE /projects/:id`

Delete a project given its identifier.

##### `GET /projects/:id`

Retrieve a project given its identifier.

##### `PUT /projects/:id`

Update a project given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

Description of the project.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`required`,`creation_only`,`format=^[a-zA-Z0-9-_/@. ]+$`]

Type: `string`

The name of the project.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### Provider

Providers are services that can be accessed using the APEX. These can
both be external services as well as internal services built/deployed within the
organization.

#### Example

```json
{
  "analyzeOutput": false,
  "category": "User",
  "experimental": false,
  "friendlyName": "OpenAI",
  "lib": "local M = {}
function M.hello_world()
  return \"hello world\"
end
return M",
  "name": "openai",
  "propagate": true,
  "status": "Stable",
  "tokenSwap": false,
  "upstreamUnsecure": false
}
```

#### Relations

##### `GET /providers`

List all available provider.

Parameters:

- `icon` (`boolean`): If set, return the icons.
- `q` (`string`): This is an example.

##### `POST /providers`

Creates a new provider.

##### `DELETE /providers/:id`

Delete a provider given its identifier.

##### `GET /providers/:id`

Retrieve a provider given its identifier.

##### `PUT /providers/:id`

Update a provider given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `analyzeOutput`

Type: `boolean`

If enabled, run the analysis pipelines on the provider output. No policy will be
applied, but the response will be analyzed and classified.

##### `category` [`required`]

Type: `enum(User | App)`

The category of the provider.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

The description of the provider.

##### `errorTransformer`

Type: [`errortransformer`](#errortransformer)

Use to transform an error before sending it back to the client.

##### `experimental`

Type: `boolean`

If true, consider this provider as experimental. It will require to use a custom
PAC Config to make it usable from the proxy.pac.

##### `extractors`

Type: [`[]extractorref`](#extractorref)

List of extractors for the provider.

##### `friendlyName` [`required`]

Type: `string`

Friendly Name of the provider.

##### `hosts`

Type: [`[]host`](#host)

Hosts supported by the providers.

##### `icon`

Type: `string`

The icon of the provider, base64 encoded.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `injectors`

Type: [`[]injector`](#injector)

Defines injection point for javascript snippet.

##### `lib`

Type: `string`

If set, this snippet of lua will available in all extractors of the provider,
acting as an effective library. It must be a valid lua module. It will be
available to all extractor by doing local plib = require('plib').

##### `mappers`

Type: [`[]mapper`](#mapper)

List of user mappers.

##### `name` [`required`]

Type: `string`

Name of the provider.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `riskScore`

Type: `float`

The latest risk score of the provider.

##### `status` [`required`]

Type: `enum(Stable | Unstable)`

The support status of the provider.

Default value:

```json
"Stable"
```

##### `tokenSwap`

Type: `boolean`

If true, consider the incoming calls to use an acuvity token and swap them using
registered providertokens.

##### `trustedCA`

Type: `string`

If set, additionally trust the Certificate Authorities from the PEM data. This
is useful when working on a custom provider using a self signed CA chain.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

##### `upstreamUnsecure`

Type: `boolean`

If enabled, force the ustream scheme to be HTTP instead of https. Mostly use for
dev purposes.

### ProviderDetail

List all information about the provider and its AI domain.

#### Example

```json
{
  "compliances": [
    "SOC2",
    "GDPR",
    "HIPAA"
  ],
  "dataResidency": [
    "US",
    "EU",
    "China"
  ],
  "dataSharing": "A description text",
  "dataSharingConsent": "A flag to indicate data sharing with consent",
  "friendlyName": "OpenAI",
  "models": [
    "gpt-4o",
    "gpt-4"
  ],
  "name": "openai",
  "providerTrainingPolicies": [
    {
      "description": "provider uses user data for training the models on Free plan ",
      "subscriptiontype": "Free",
      "useData": true
    }
  ],
  "riskScore": 0.5,
  "thirdPartyModelUsage": false
}
```

#### Relations

##### `GET /providerdetails`

List all available provider details.

Parameters:

- `icon` (`boolean`): If set, return the icons.
- `q` (`string`): This is an example.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `compliances`

Type: `[]string`

The list of compliance provided by the domain.

##### `dataResidency`

Type: `[]string`

The user data storage location.

##### `dataSharing`

Type: `boolean`

Does the provider share user data with 3rd party or services.

##### `dataSharingConsent`

Type: `boolean`

Does the provider share user data with consent with 3rd party or services.

##### `description`

Type: `string`

The description of the provider detail.

##### `domain`

Type: `string`

Domain of the provider detail.

##### `friendlyName` [`required`]

Type: `string`

Friendly Name of the provider detail.

##### `icon`

Type: `string`

The icon of the providerdetail, base64 encoded.

##### `models`

Type: `[]string`

List of AI models used by the domain.

##### `name` [`required`]

Type: `string`

Name of the provider detail.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `providerRetentionPolicies`

Type: [`[]providerretentionpolicy`](#providerretentionpolicy)

The data retention policies by the domain for each type of users.

##### `providerTrainingPolicies`

Type: [`[]providertrainingpolicy`](#providertrainingpolicy)

Does the provider use user data for training its model.

##### `riskScore` [`required`,`max_value=1.000000`]

Type: `float`

The risk score for the domain.

##### `thirdPartyModelUsage`

Type: `boolean`

Does provider use third party model.

### ProviderRetentionPolicy

Represents data retention policy for a given subscription type.

#### Example

```json
{
  "subscriptionType": "Free"
}
```

#### Attributes

##### `description`

Type: `string`

Description of the data retention policy for the subscription type.

##### `duration`

Type: `string`

The duration of time the data retention policy applies to the subscription type.

##### `subscriptionType`

Type: `enum(Enterprise | Paid | Free)`

The type of subscription for which the data retention policy needs to be
defined.

Default value:

```json
"Free"
```

### ProviderTeam

Provider Teams can be created to create groups of people, identified by their
jwt claims
that can be used when writing Access Policies.

#### Example

```json
{
  "disabled": false,
  "name": "engineers"
}
```

#### Relations

##### `GET /providerteams`

List all provider teams.

Parameters:

- `claim` (`string`): When using 'resolve', defines the list of claims to use in policy resolution. If not set, the current token claims will be used.
- `provider` (`string`): When using 'resolve', defines the provider for which you want to check your assigned team.
- `resolve` (`boolean`): If set, return the list of assigned team for the given provider, using your claim to run an assignation policy.
- `q` (`string`): This is an example.

##### `POST /providerteams`

Creates a new provider team.

##### `DELETE /providerteams/:id`

Delete a provier team given its identifier.

##### `GET /providerteams/:id`

Retrieve a provier team given its identifier.

##### `PUT /providerteams/:id`

Update a provier team given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

Description of the provider team.

##### `disabled`

Type: `boolean`

Set the provider team to be disabled.

##### `excludedSubject`

Type: `[][]string`

A tag expression that identifies user(s) to not include in the team, even if
their claims match the subject.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`required`,`creation_only`,`format=^[a-zA-Z0-9-_/@. ]+$`]

Type: `string`

The name of the provider team.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `subject`

Type: `[][]string`

A tag expression that identifies user(s).

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### ProviderToken

ProviderToken are upstream tokens for the 'Provider' configured on our system to
be used by the acuvity proxy.

#### Example

```json
{
  "name": "openai-token-1",
  "provider": "openai",
  "token": "token1"
}
```

#### Relations

##### `GET /providertokens`

List all available provider tokens.

Parameters:

- `q` (`string`): This is an example.

##### `POST /providertokens`

Creates a new provider token list.

##### `DELETE /providertokens/:id`

Delete a providertoken given its identifier.

##### `GET /providertokens/:id`

Retrieve a providertoken given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`required`]

Type: `string`

Name of the token. As token contents are hidden after creation, name allows a
way to delete it.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `provider` [`required`]

Type: `string`

Name of the provider this token is used with.

##### `token` [`required`]

Type: `string`

token to authenticate with the provider.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### ProviderTrainingPolicy

Represents provider data usage policy for a given subscription type.

#### Example

```json
{
  "subscriptionType": "Free",
  "useData": false
}
```

#### Attributes

##### `description`

Type: `string`

Description of the data usage policy for a subscription type.

##### `subscriptionType`

Type: `enum(Enterprise | Paid | Free)`

The type of subscription for which the data retention policy needs to be
defined.

Default value:

```json
"Free"
```

##### `useData`

Type: `boolean`

User Data usage to train or improve the models based on the subscription type.

### ProxyConf

ProxyConf is an API for proxy.

#### Example

```json
{
  "tokens": {
    "providera": "token-a",
    "providerb": "token-b"
  }
}
```

#### Relations

##### `GET /proxyconfs`

List all available proxyconf.

Parameters:

- `q` (`string`): This is an example.

##### `POST /proxyconfs`

Get a particular proxyconf.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `PACConfigs`

Type: [`[]pacconfig`](#pacconfig)

The PAC configurations of the organizations.

##### `accessPolicy`

Type: `string`

The computed access policy.

##### `agentConfigs`

Type: [`[]agentconfig`](#agentconfig)

The agent configurations.

##### `assignPolicy`

Type: `string`

The computed assign policy.

##### `contentPolicy`

Type: `string`

The computed content policy.

##### `customDataTypes`

Type: [`[]customdatatype`](#customdatatype)

List of custom data types.

##### `dataSets`

Type: [`[]dataset`](#dataset)

List of DataSets.

##### `extractors`

Type: [`[]extractor`](#extractor)

The extractors of the organization.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `orgSettings`

Type: [`orgsettings`](#orgsettings)

The organization settings.

##### `providers`

Type: [`[]provider`](#provider)

The list of available provider.

##### `tokens`

Type: `map[string][]string`

Tokens pool to authenticate with the provider.

##### `webExtensionConfigs`

Type: [`[]webextensionconfig`](#webextensionconfig)

The WebExtension configurations.

### ProxyRoundtrip

This is a Proxy roundtrip.

#### Example

```json
{
  "client": "curl",
  "clientVersion": "7.64.1",
  "decision": "Deny",
  "model": "claude-3-7-sonnet",
  "offband": false,
  "permissive": false,
  "principal": "{
  \"type\": \"User\",
  \"user\": {
      \"authType\": \"Certificate\",
      \"team\": \"engineers\",
      \"user\": \"someone@somewhere.com\"
  }
}",
  "provider": "openai",
  "proxyFunction": "ForwardProxy",
  "tools": "{
  \"tool1\": {
      \"name\": \"tool1\",
      \"description\": \"This is a tool.\"
  }
}",
  "type": "Input"
}
```

#### Relations

##### `POST /proxyroundtrips`

Creates a new proxy roundtrip.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `alerts`

Type: [`[]alertevent`](#alertevent)

List of alerts that got raised during the policy resolution.

##### `annotations`

Type: `map[string]string`

Annotations attached to the log.

##### `client`

Type: `string`

The client used to send the request.

##### `clientVersion`

Type: `string`

The version of the client used to send the request.

##### `decision`

Type: `enum(Deny | Allow | Ask | Bypassed | ForbiddenUser | Skipped)`

Tell what was the decision about the data.

##### `destination`

Type: [`destination`](#destination)

Captures all details of the destination of the request.

##### `encryptionEgress`

Type: [`tlsstate`](#tlsstate)

The encryption details of the connection from the proxy to the origin server.

##### `encryptionIngress`

Type: [`tlsstate`](#tlsstate)

The encryption details of the connection from the client to the proxy.

##### `extractions`

Type: [`[]extraction`](#extraction)

The extractions to log.

##### `hash`

Type: `string`

The hash of the input.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `latency`

Type: [`latency`](#latency)

Information about latency of various stage of request and response.

##### `mcpMessage`

Type: [`mcpmessage`](#mcpmessage)

If this is an MCP message, then the MCP message details will be set here.

##### `model`

Type: `string`

The model used by the request.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `offband`

Type: `boolean`

If true, the analysis ran offband. That means that we extracted the data
from the user request, assigned team and verified access permissions, but
then we forwarded the request as is to the provider untouched
immediately, while running the analysis and policies in the background,
reporting what we would have done.

##### `permissive`

Type: `boolean`

If true, the policy has been applied in permissive mode.  That means that
we extracted the data from the user request, assigned team, verified
access permissions, run analysis, apply content policies and reported what
we would have done, but ultimately let the request go to the provider
untouched.

##### `pipelineName`

Type: `string`

The name of the particular pipeline that extracted the text.

##### `policyRefs`

Type: [`[]policyref`](#policyref)

List of references to the policies used to make this roundtrip.

##### `principal` [`required`]

Type: [`principal`](#principal)

The principal of the object.

##### `provider`

Type: `string`

The provider to use.

##### `proxyFunction`

Type: `enum(ForwardProxy | ReverseProxy)`

Denotes the function of this proxy in the chain of servers. By default the apex
always sits on the egress side between a client or application and the origin
server in which case the apex acts as a forwarding proxy. However, in the case
of applications the proxy can also be located before the application as an
ingress provider in which case the apex acts as a reverse proxy.

Default value:

```json
"ForwardProxy"
```

##### `reasons`

Type: `[]string`

The various reasons returned by the policy engine.

##### `summary`

Type: [`extractionsummary`](#extractionsummary)

The summary of the extractions.

##### `time`

Type: `time`

Set the time of the message request.

##### `toolChoice`

Type: [`toolchoice`](#toolchoice)

Tool choice instructions for the model of a request.

##### `tools`

Type: [`map[string]tool`](#tool)

The various tools used by the request.

##### `trace`

Type: [`traceref`](#traceref)

References to the trace of the request.

##### `type`

Type: `enum(Input | Output)`

The type of text.

### Query

This is a Log.

#### Example

```json
{
  "direction": "Backward",
  "query": [
    "{type=log}"
  ],
  "time": 1700083708672317036,
  "timeRelative": "10h"
}
```

#### Relations

##### `GET /queries`

List all logs available.

Parameters:

- `q` (`string`): This is an example.

##### `POST /queries`

Creates a new query.

##### `DELETE /queries/:id`

Delete a log given its identifier.

##### `GET /queries/:id`

Retrieve a log given its identifier.

##### `PUT /queries/:id`

Update a log given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `direction`

Type: `enum(Forward | Backward)`

Determines the sort order of logs.

Default value:

```json
"Backward"
```

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query` [`required`]

Type: `string`

The query in LogQL format.

##### `result`

Type: `[]map[string]any`

The result of the request.

##### `resultType`

Type: `string`

The type of the result.

##### `time`

Type: `string`

The time for the query in any format supported by
https://github.com/araddon/dateparse.

##### `timeRelative`

Type: `string`

The relative time of the time window as time.Duration.

### QueryRange

This is a Log.

#### Example

```json
{
  "direction": "Backward",
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "limit": 100,
  "query": [
    "{type=log}"
  ],
  "start": 1700083708672317036,
  "startRelative": "10h"
}
```

#### Relations

##### `GET /queryranges`

List all logs available.

Parameters:

- `q` (`string`): This is an example.

##### `POST /queryranges`

Creates a new queryrange.

##### `DELETE /queryranges/:id`

Delete a log given its identifier.

##### `GET /queryranges/:id`

Retrieve a log given its identifier.

##### `PUT /queryranges/:id`

Update a log given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `direction`

Type: `enum(Forward | Backward)`

Determines the sort order of logs.

Default value:

```json
"Backward"
```

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `limit`

Type: `integer`

the number of results to return.

Default value:

```json
100
```

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query` [`required`]

Type: `string`

The query in LogQL format.

##### `result`

Type: `[]map[string]any`

The result of the request.

##### `resultType`

Type: `string`

The type of the result.

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

### Role

Role for API Authorizations.

#### Example

```json
{
  "description": "This is the boss.",
  "friendlyName": "Administrator",
  "name": "Administrator"
}
```

#### Relations

##### `GET /roles`

List all roles.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `description`

Type: `string`

The description of the role.

##### `friendlyName`

Type: `string`

The friendly name of the role.

##### `name`

Type: `string`

The name of the role.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `permissions`

Type: `[]string`

Permissions for the role.

### Serie

This is a Log serie.

#### Example

```json
{
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "query": [
    "{type=log}"
  ],
  "start": 1700083708672317036,
  "startRelative": "10h"
}
```

#### Relations

##### `POST /series`

send a series request.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query` [`required`]

Type: `string`

The query in LogQL format.

##### `result`

Type: `[]map[string]string`

The result of the request.

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

### Signup

Represents a sign up request.

#### Example

```json
{
  "type": "Employees"
}
```

#### Relations

##### `GET /signups`

List all existing signups requests.

Parameters:

- `q` (`string`): This is an example.

##### `POST /signups`

Creates a new signup request.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `email` [`autogenerated`,`read_only`]

Type: `string`

The email requesting the signup. This email can be considered valid and
verified, as for the signup request to succeed, it must have been verified by
signing up with one of the oauth2 source we support.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `type` [`required`,`creation_only`]

Type: `enum(Employees | Apps)`

The type of signup requested.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

##### `verifiedBy` [`autogenerated`,`read_only`]

Type: `string`

The source of verification.

### Team

Teams can be created to create groups of people, identified by their jwt claims
that can be used when writing authorizations.

#### Example

```json
{
  "disabled": false,
  "name": "engineers"
}
```

#### Relations

##### `GET /teams`

List all teams.

Parameters:

- `q` (`string`): This is an example.

##### `POST /teams`

Creates a new team.

##### `DELETE /teams/:id`

Delete a team given its identifier.

##### `GET /teams/:id`

Retrieve a team given its identifier.

##### `PUT /teams/:id`

Update a team given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

Description of the team.

##### `disabled`

Type: `boolean`

Set the team to be disabled.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`required`,`creation_only`,`format=^[a-zA-Z0-9-_/@. ]+$`]

Type: `string`

The name of the team.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `subject`

Type: `[][]string`

A tag expression that identifies user(s).

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

##### `weight`

Type: `integer`

Weight of the team. It is used if multiple teams match for a user. In that case
the team with the higher weight will be used.

### TextualDetection

Represents a textual detection done by policy.

#### Example

```json
{
  "redacted": false,
  "type": "Keyword"
}
```

#### Attributes

##### `end`

Type: `integer`

The end position of the detection in the original data.

##### `key`

Type: `string`

The key that is used in the name's place, If empty, a sequence of X's are used.

##### `name`

Type: `string`

The name of the detection.

##### `redacted`

Type: `boolean`

If true this detection has been redacted.

##### `redactedEnd`

Type: `integer`

The end position of the detection in the redacted data.

##### `redactedStart`

Type: `integer`

The start position of the detection in the redacted data.

##### `score` [`max_value=1.000000`]

Type: `float`

The confidence score of the detection.

##### `start`

Type: `integer`

The start position of the detection in the original data.

##### `type`

Type: `enum(Keyword | PII | Secret | CDT)`

The type of detection.

### TLSState

Represents the TLS state of a connection.

#### Example

```json
{
  "ALPNNegotiatedProtocol": "h2",
  "cipherSuite": "TLS_ECDHE_ECDSA_WITH_AES_128_GCM_SHA256",
  "version": "TLS12"
}
```

#### Attributes

##### `ALPNNegotiatedProtocol`

Type: `string`

The application protocol being used that was negotiated with ALPN for this
connection.

##### `cipherSuite` [`required`]

Type: `string`

The negotiated cipher suite of the connection.

##### `version` [`required`]

Type: `enum(TLS10 | TLS11 | TLS12 | TLS13)`

The TLS protocol version used for the connection.

### Tool

Represents a tool that can enhance a genAI model's capabilities.

#### Example

```json
{
  "category": "Client",
  "description": "Get the current weather in a given location",
  "name": "get_weather",
  "type": "computer_20250124"
}
```

#### Attributes

##### `MCPAnnotations`

Type: [`mcptoolannotations`](#mcptoolannotations)

For MCP tools these represent optional hints about tool behavior.

##### `MCPServer`

Type: [`mcpserver`](#mcpserver)

If category is RemoteMCP, then this describes the remote MCP server.

##### `category`

Type: `enum(Client | Server | RemoteMCP)`

The category of the tool. This relays information about where the tool is being
used. This can be empty if unknown or if this is a tool listing of MCP servers.

##### `description`

Type: `string`

The description of the tool.

##### `name`

Type: `string`

The name of the tool.

##### `type`

Type: `string`

The type of the tool as can be optionally passed by the provider.

### ToolChoice

Represents the tool choice that can be passed along together with tools.

#### Example

```json
{
  "choice": "Auto"
}
```

#### Attributes

##### `choice` [`required`]

Type: `enum(Auto | Any | None | Tool)`

Model instructions on tool choice.

Default value:

```json
"Auto"
```

##### `name`

Type: `string`

If choice is Tool, this will be set to the name of the tool to use.

### ToolResult

Represents the tool result as passed in by the user or application after calling
a tool.

#### Example

```json
{
  "callID": "toolu_019X5QaEeVTDFrQPHqMMgd1n",
  "isError": false
}
```

#### Attributes

##### `callID` [`required`]

Type: `string`

The ID of the tool use as previously returned by a models tool use response.

##### `content`

Type: `string`

The content of the tool call results.

##### `isError`

Type: `boolean`

Indicates if the tool call failed.

Default value:

```json
false
```

### ToolUse

Represents the tool use which are instructions by a model on what tool to call
and how.

#### Example

```json
{
  "callID": "toolu_019X5QaEeVTDFrQPHqMMgd1n",
  "name": "get_weather",
  "serverName": "deepwiki"
}
```

#### Attributes

##### `callID` [`required`]

Type: `string`

The ID of the tool use which the user or application must pass when posting back
the tool call results.

##### `input`

Type: `string`

The input to the tool call. This should be a JSON object which must conform to
the JSON schema as was previously defined for the tool.

##### `name` [`required`]

Type: `string`

The name of the tool to call.

##### `serverName`

Type: `string`

The name of the remote MCP server that will execute this call.

### Trace

This is a OTEL Trace.

#### Example

```json
{
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "start": 1700083708672317036,
  "startRelative": "10h",
  "traceID": [
    "1234567890abcdef"
  ]
}
```

#### Relations

##### `POST /traces`

send a trace request.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `result`

Type: `map[string]any`

The result of the request.

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

##### `traceID` [`required`]

Type: `string`

The trace ID to query.

### TraceRef

Holds all references to a trace which are also the essentials of the span data.

#### Example

```json
{
  "kind": "Server",
  "parentSpanID": "00f067aa0ba902b7",
  "spanEnd": "2025-03-22T14:35:00.123456789Z",
  "spanID": "6ba80aaa3b2f43d8",
  "spanName": "acuvity_prompt_input_analysis",
  "spanStart": "2025-03-22T14:35:00.123456789Z",
  "statusCode": "OK",
  "statusMessage": "Failed to make API call to service Foo.",
  "traceID": "4bf92f3577b34da6a3ce929d0e0e4736",
  "transparentSpanID": "6ba80aaa3b2f43d8"
}
```

#### Attributes

##### `kind`

Type: `enum(Unspecified | Internal | Server | Client | Producer | Consumer)`

The kind of the span.

Default value:

```json
"Unspecified"
```

##### `parentSpanID`

Type: `string`

The parent span ID that is being referenced as hex encoded string.

##### `spanEnd` [`required`]

Type: `time`

When the span ended.

##### `spanID` [`required`]

Type: `string`

The span ID that is being referenced.

##### `spanName` [`required`]

Type: `string`

The name of the span that is being collected.

##### `spanStart` [`required`]

Type: `time`

When the span started.

##### `statusCode`

Type: `enum(Unset | OK | Error)`

Status Code of a span.

Default value:

```json
"Unset"
```

##### `statusMessage`

Type: `string`

A developer-facing human readable error message.

##### `traceID` [`required`]

Type: `string`

The Trace ID that is being referenced as hex encoded string.

##### `transparentSpanID`

Type: `string`

The transparent span ID that is being referenced. If the application operates in
transparent tracing mode, then this field must be set to the span ID that this
span is originally referencing.

### TraceSearch

This is a OTEL TraceQL query wrapper.

#### Example

```json
{
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "limit": 20,
  "query": [
    "{resource.service.name = \"my-service\"}"
  ],
  "spansPerSpanSet": 3,
  "start": 1700083708672317036,
  "startRelative": "10h"
}
```

#### Relations

##### `POST /tracesearches`

send a tracesearch request.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `limit`

Type: `integer`

Limit the number of search result.

Default value:

```json
20
```

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query` [`required`]

Type: `string`

The query in TraceQL format.

##### `result`

Type: `[]map[string]any`

The result of the request.

##### `spansPerSpanSet`

Type: `integer`

The max number of spans to return per span set. If set to -1, it means no span
at all. 0 will use the default value (3).

Default value:

```json
3
```

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

### TraceTagKeys

This is a OTEL TraceQL query wrapper for searching tags keys.

#### Example

```json
{
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "query": [
    "{resource.service.name = \"my-service\"}"
  ],
  "scope": "All",
  "start": 1700083708672317036,
  "startRelative": "10h"
}
```

#### Relations

##### `POST /tracetagkeys`

send a traces tag keys request.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `limit`

Type: `integer`

Limit the number of search result.

##### `maxStaleValues`

Type: `integer`

Limits the search for tag values. The search stops if the number of stale
(already known) values reaches or exceeds this limit.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query`

Type: `string`

The query in TraceQL format.

##### `result`

Type: `[]any`

The result of the request.

##### `scope`

Type: `enum(All | Resource | Span | Intrinsic)`

Specifies the scope of the tags.

Default value:

```json
"All"
```

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

### TraceTagValues

This is a OTEL TraceQL query wrapper for searching tags values.

#### Example

```json
{
  "end": "May 8, 2009 5:57:51 PM",
  "endRelative": "10h",
  "query": [
    "{resource.service.name = \"my-service\"}"
  ],
  "start": 1700083708672317036,
  "startRelative": "10h",
  "tagKey": "resource.service.name"
}
```

#### Relations

##### `POST /tracetagvalues`

send a traces tag values request.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `end`

Type: `string`

The end of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `endRelative`

Type: `string`

The relative end of the time window as time.Duration.

##### `limit`

Type: `integer`

Limit the number of search result.

##### `maxStaleValues`

Type: `integer`

Limits the search for tag values. The search stops if the number of stale
(already known) values reaches or exceeds this limit.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `query`

Type: `string`

The query in TraceQL format.

##### `result`

Type: `[]any`

The result of the request.

##### `start`

Type: `string`

The start of the time window in any format supported by
https://github.com/araddon/dateparse.

##### `startRelative`

Type: `string`

The relative start of the time window as time.Duration.

##### `tagKey` [`required`]

Type: `string`

The tag key to use for searching associated values.

### UserToken

User Token are revocable long lived tokens for users.

#### Example

```json
{
  "clientType": "None",
  "machineID": "my-computer.local",
  "name": "my personal access token",
  "transient": false,
  "validity": "8760h"
}
```

#### Relations

##### `GET /usertokens`

List all usertokens available.

Parameters:

- `q` (`string`): This is an example.

##### `POST /usertokens`

Creates a new app token.

##### `DELETE /usertokens/:id`

Deletes the User Token with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /usertokens/:id`

Retrieves the User Token with the given ID.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `claims` [`autogenerated`,`read_only`]

Type: `[]string`

The list of claims delivered in the token.

##### `clientType`

Type: `enum(None | WebExtension | Acushield | Acuctl)`

the client type of the user token.

Default value:

```json
"None"
```

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `email` [`autogenerated`,`read_only`]

Type: `string`

The email of the user who requested the token.

##### `expirationDate` [`autogenerated`,`read_only`]

Type: `time`

Tells when the token will expire.

##### `machineID` [`creation_only`]

Type: `string`

ID of the source machine that initiated the creation of the token.

##### `name` [`required`,`creation_only`]

Type: `string`

Name of the token is specified while creating the token.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `sourceIP` [`autogenerated`,`read_only`]

Type: `string`

The source IP of the request that initiated the creation of the token.

##### `token` [`autogenerated`]

Type: `string`

The generated token. It won't be stored.

##### `tokenID` [`autogenerated`,`read_only`]

Type: `string`

The ID of the associated token.

##### `transient`

Type: `boolean`

If true, the token will not be stored and will only be revocable if you keep
track of the token ID yourself. Also, the validity will be capped and the token
won't be long lived.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

##### `validity`

Type: `string`

Configures the validity of the token.

Default value:

```json
"8760h"
```

### VisitedURL

This is a visited URL.

#### Example

```json
{
  "domainHits": [
    {
      "domain": "google.com",
      "hits": 1
    }
  ],
  "origin": "Proxy",
  "principal": "{
  \"type\": \"User\",
  \"user\": {
      \"authType\": \"Certificate\",
      \"team\": \"engineers\",
      \"user\": \"someone@somewhere.com\"
  }
}"
}
```

#### Relations

##### `GET /visitedurls`

List all visited urls.

Parameters:

- `q` (`string`): This is an example.

##### `POST /visitedurls`

Creates a new visited url.

##### `GET /visitedurls/:id`

Retrieve a report given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `domainHits` [`required`]

Type: [`[]domainhits`](#domainhits)

Domain that has been visited.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `origin` [`required`]

Type: `enum(WebExtension | Proxy)`

Origin indicates from where the url has been tracked.

Default value:

```json
"Proxy"
```

##### `principal` [`required`]

Type: [`principal`](#principal)

The principal of the object.

### WatchedOrg

List the organization your organization watches.

#### Relations

##### `GET /watchedorgs`

List of watched organizations.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `name`

Type: `string`

The name of the accessible organization.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `orgNamespace`

Type: `string`

The name namespace of the org.

### WebExtension

Stores information about a known WebExtension.

#### Example

```json
{
  "browserProxyManagementState": false,
  "currentVersion": "0.1.0",
  "installationID": "bob-webext",
  "ping": "2024-06-21T00:36:15.021Z",
  "principal": "{
  \"type\": \"User\",
  \"user\": {
      \"authType\": \"Certificate\",
      \"team\": \"engineers\",
      \"user\": \"someone@somewhere.com\"
  }
}",
  "start": "2024-06-21T00:36:15.021Z",
  "status": "Alive",
  "userAgent": "firefox"
}
```

#### Relations

##### `GET /webextensions`

List all WebExtensions.

Parameters:

- `q` (`string`): This is an example.

##### `POST /webextensions`

Creates a new WebExtension.

##### `DELETE /webextensions/:id`

Delete an WebExtension given its identifier.

##### `GET /webextensions/:id`

Retrieve an WebExtension given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `browserProxyManagementState`

Type: `boolean`

The state of the system proxy management.

##### `currentVersion` [`required`]

Type: `string`

The current version of the WebExtension.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `installationID` [`required`]

Type: `string`

The ID of the WebExtension installation.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `ping` [`required`]

Type: `time`

The last ping recorded for the WebExtension.

##### `principal` [`required`]

Type: [`principal`](#principal)

The principal of the object.

##### `start` [`required`]

Type: `time`

The start time for the WebExtension.

##### `status` [`required`]

Type: `enum(Alive | Paused | Stopped)`

The status of the WebExtension.

##### `userAgent`

Type: `string`

The browser user agent.

### WebExtensionConfig

WebExtensionConfig stores the configuration information for the webextension.

#### Example

```json
{
  "allowProxySettings": false,
  "name": "default",
  "refreshWebExtensionConfigInterval": 120,
  "reportVisitedURLsInterval": 60,
  "subject": [
    [
      "@scope=employees",
      "@org=acuvity.ai"
    ]
  ]
}
```

#### Relations

##### `GET /webextensionconfigs`

List all WebExtension configurations.

Parameters:

- `q` (`string`): This is an example.

##### `POST /webextensionconfigs`

Creates a new WebExtension configuration.

##### `DELETE /webextensionconfigs/:id`

Delete a webextension configuration given its identifier.

##### `GET /webextensionconfigs/:id`

Retrieve a webextension configuration given its identifier.

##### `PUT /webextensionconfigs/:id`

Update a webextension configuration given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `allowProxySettings`

Type: `boolean`

Allows the WebExtension to set the proxy settings of the employee's browser.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

Description of the webextension configuration.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`required`]

Type: `string`

The name of the webextension configuration.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `refreshWebExtensionConfigInterval` [`min_value=1.000000`]

Type: `integer`

Defines the refresh interval in minutes for the configuration of the deployed
WebExtensions.

Default value:

```json
120
```

##### `reportVisitedURLsInterval` [`min_value=1.000000`]

Type: `integer`

Define the interval in minutes between two reports of the visited URLs.

Default value:

```json
60
```

##### `subject` [`required`]

Type: `[][]string`

A tag expression that identifies the user(s) tied to this config.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

## core/import

### Import

Import multiple resource at once.

#### Example

```json
{
  "label": "my-super-import"
}
```

#### Relations

##### `POST /import`

Sends an import request.

Parameters:

- `delete` (`boolean`): If set, delete the current imported data.

#### Attributes

##### `AIDomains`

Type: [`[]aidomain`](#aidomain)

AI domains to import.

##### `APIAuthorizations`

Type: [`[]apiauthorization`](#apiauthorization)

APIAuthorizations to import.

##### `LDAPSources`

Type: `a3s.LDAPSources`

LDAP Sources to import.

##### `MTLSSources`

Type: `a3s.MTLSSources`

MTLS Sources to import.

##### `OIDCSources`

Type: `a3s.OIDCSources`

OIDC Sources to import.

##### `PACConfigs`

Type: [`[]pacconfig`](#pacconfig)

PACConfigs to import.

##### `SAMLSources`

Type: `a3s.SAMLSources`

SAML Sources to import.

##### `accessPolicies`

Type: [`[]accesspolicy`](#accesspolicy)

Access policies to import.

##### `agentConfigs`

Type: [`[]agentconfig`](#agentconfig)

Agent configurations to import.

##### `alertDefinitions`

Type: [`[]alertdefinition`](#alertdefinition)

Alert definitions to import.

##### `apps`

Type: [`[]app`](#app)

Apps to import.

##### `contentPolicies`

Type: [`[]contentpolicy`](#contentpolicy)

Content policies to import.

##### `customDataTypes`

Type: [`[]customdatatype`](#customdatatype)

Custom Data Types to import.

##### `dataSets`

Type: [`[]dataset`](#dataset)

DataSets to import.

##### `extractors`

Type: [`[]extractor`](#extractor)

Extractors to import.

##### `ignoredDomains`

Type: [`[]ignoreddomain`](#ignoreddomain)

Ignored domains to import.

##### `label` [`required`]

Type: `string`

Import label that will be used to identify all the resources imported by this
resource.

##### `orgSettings`

Type: [`[]orgsettings`](#orgsettings)

OrgSettings to import.

##### `providerTeams`

Type: [`[]providerteam`](#providerteam)

Provider teams to import.

##### `providerTokens`

Type: [`[]providertoken`](#providertoken)

ProviderTokens to import.

##### `providers`

Type: [`[]provider`](#provider)

Providers to import.

##### `proxyroundtrips`

Type: [`[]proxyroundtrip`](#proxyroundtrip)

Proxy roundtrip to import. This will populate dummy data.

##### `sinks`

Type: [`[]sink`](#sink)

Sinks to import.

##### `teams`

Type: [`[]team`](#team)

Teams to import.

##### `visitedurls`

Type: [`[]visitedurl`](#visitedurl)

Visited URLs to import.

##### `webExtensionConfigs`

Type: [`[]webextensionconfig`](#webextensionconfig)

WebExtension configurations to import.

## migration

### SchemaVersion

This holds the schema version of a service.

## notification

### Alert

Represents an alert.

#### Example

```json
{
  "alertDefinitionName": "warning-notification",
  "counter": 1,
  "end": "2024-06-21T00:36:15.021Z",
  "start": "2024-06-21T00:06:14.047Z"
}
```

#### Relations

##### `GET /alerts`

List all available alerts.

Parameters:

- `q` (`string`): This is an example.

##### `POST /alerts`

Creates a new alert.

##### `DELETE /alerts/:id`

Deletes the alert with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /alerts/:id`

Retrieves the alert with the given ID.

##### `PUT /alerts/:id`

Updates the alert with the given ID.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `alertDefinition` [`autogenerated`,`read_only`]

Type: [`alertdefinition`](#alertdefinition)

The alert definition that triggered the alert.

##### `alertDefinitionName` [`required`,`creation_only`]

Type: `string`

The name identifier of the alert definition that triggered the alert.

##### `alertEvents` [`autogenerated`,`read_only`]

Type: [`[]alertevent`](#alertevent)

The events related to the alert.

##### `counter` [`required`]

Type: `integer`

The number of times the alert was raised.

Default value:

```json
1
```

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `end` [`required`]

Type: `time`

When the alert was last raised.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `start` [`required`,`creation_only`]

Type: `time`

When the alert was first raised.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### AlertDefinition

Represents a definition of an alert.

#### Example

```json
{
  "cooldown": "5m",
  "friendlyName": "Simple name",
  "name": "my-simple-policy",
  "propagate": true,
  "severity": "Warning",
  "sinks": [
    "Email Notification",
    "Slack Notification"
  ],
  "trigger": "{
  \"interval\": \"10m\",
  \"occurrences\": 5
}"
}
```

#### Relations

##### `GET /alertdefinitions`

List all available alert definitions.

Parameters:

- `q` (`string`): This is an example.

##### `POST /alertdefinitions`

Creates a new alert definition.

##### `DELETE /alertdefinitions/:id`

Deletes the alert definition with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /alertdefinitions/:id`

Retrieves the alert definition with the given ID.

##### `PUT /alertdefinitions/:id`

Updates the alert definition with the given ID.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `cooldown`

Type: `string`

If set, how long until a subsequent alert notification can be raised.

Default value:

```json
"5m"
```

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

The description of the alert definition.

##### `friendlyName` [`required`]

Type: `string`

Friendly name of the object.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `message`

Type: `string`

The message sent when notifying.

##### `name` [`creation_only`,`format=^[a-zA-Z0-9-_]+$`]

Type: `string`

The internal reference name of the object. It is a sanitized version of Friendly
Name if empty.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `severity` [`required`]

Type: `enum(Critical | Warning | Info)`

The severity of the alert event.

Default value:

```json
"Warning"
```

##### `sinks`

Type: `[]string`

The sinks used to notify.

##### `trigger`

Type: [`alerttrigger`](#alerttrigger)

If set, the criteria to trigger an alert notification.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### AlertTrigger

Represents the criteria to trigger an alert notification.

#### Example

```json
{
  "interval": "24h",
  "occurrences": 1
}
```

#### Attributes

##### `interval` [`required`]

Type: `string`

What time window to look for an alert event.

Default value:

```json
"24h"
```

##### `occurrences` [`required`,`min_value=1.000000`]

Type: `integer`

The number of times an alert event is seen to cause a trigger.

Default value:

```json
1
```

### Sink

Represents the sink used to send a notification.

#### Example

```json
{
  "friendlyName": "Simple name",
  "name": "my-simple-policy",
  "propagate": true,
  "type": "Email"
}
```

#### Relations

##### `GET /sinks`

List all available sinks.

Parameters:

- `q` (`string`): This is an example.

##### `POST /sinks`

Creates a new sink.

##### `DELETE /sinks/:id`

Deletes the sink with the given ID.

Parameters:

- `q` (`string`): This is an example.

##### `GET /sinks/:id`

Retrieves the sink with the given ID.

##### `PUT /sinks/:id`

Updates the sink with the given ID.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `description`

Type: `string`

The description of the sink.

##### `email`

Type: [`sinkemail`](#sinkemail)

Contains additional configuration for sending an email.

##### `friendlyName` [`required`]

Type: `string`

Friendly name of the object.

##### `importHash` [`autogenerated`,`creation_only`]

Type: `string`

The hash of the structure used to compare with new import version.

##### `importLabel` [`creation_only`]

Type: `string`

The user-defined import label that allows the system to group resources from the
same import operation.

##### `name` [`creation_only`,`format=^[a-zA-Z0-9-_]+$`]

Type: `string`

The internal reference name of the object. It is a sanitized version of Friendly
Name if empty.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `pagerDuty`

Type: [`sinkpagerduty`](#sinkpagerduty)

Contains additional configuration for sending a PagerDuty event.

##### `propagate`

Type: `boolean`

Propagates the object to all child namespaces. This is always true.

Default value:

```json
true
```

##### `slack`

Type: [`sinkslack`](#sinkslack)

Contains additional configuration for sending a Slack message.

##### `splunk`

Type: [`sinksplunk`](#sinksplunk)

Contains additional configuration for sending the alert to Splunk.

##### `type` [`required`]

Type: `enum(Email | PagerDuty | Slack | Splunk)`

The type of sink.

Default value:

```json
"Email"
```

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.

### SinkEmail

Additional configuration for sending an email.

#### Example

```json
{
  "recipients": [
    "info@acuvity.ai",
    "me@email.com"
  ]
}
```

#### Attributes

##### `recipients` [`required`]

Type: `[]string`

The list of email recipients the notification will be sent to.

### SinkPagerDuty

Additional configuration for sending a PagerDuty event.

#### Example

```json
{
  "token": "0a11421bcb4c45aseve7d822fake333a"
}
```

#### Attributes

##### `token` [`required`]

Type: `string`

The token for PagerDuty events.

### SinkSlack

Additional configuration for sending a Slack message.

#### Example

```json
{
  "webhookURL": "https://hooks.slack.com/services/T00000000/B00000000/XXXXXXXXXXXXXXXXXXXXXXXX"
}
```

#### Attributes

##### `webhookURL` [`required`]

Type: `string`

The webhook URL to send the Slack messages to.

### SinkSplunk

Additional configuration for sending an alert to Splunk.

#### Example

```json
{
  "HECURL": "https://mysplunkserver.example.com:8088/services/collector",
  "insecureSkipVerify": false,
  "token": "CF179AE4-3C99-45F5-A7CC-3284AA91CF67"
}
```

#### Attributes

##### `HECURL` [`required`]

Type: `string`

The HTTP event collector (HEC) URL to send the alert to.

##### `certificateAuthority`

Type: `string`

If set, will use this as the CA for TLS communication.

##### `insecureSkipVerify`

Type: `boolean`

If true, will attempt to skip TLS verification when communicating.

##### `token` [`required`]

Type: `string`

The token to communicate with the HTTP event collector.

## reporter

### DigestReport

Represents a digest report configuration.

#### Example

```json
{
  "name": "Provider Usage Statistics"
}
```

#### Relations

##### `GET /digestreports`

List all existing digest reports.

Parameters:

- `q` (`string`): This is an example.

##### `GET /digestreports/:id`

Retrieve a digest report configuration given its identifier.

#### Attributes

##### `ID` [`identifier`,`autogenerated`,`read_only`]

Type: `string`

ID is the identifier of the object.

##### `createTime` [`autogenerated`,`read_only`]

Type: `time`

Creation date of the object.

##### `name` [`required`,`format=^[a-zA-Z0-9-_/@. ]+$`]

Type: `string`

The name of the digest report.

##### `namespace` [`autogenerated`,`read_only`]

Type: `string`

The namespace of the object.

##### `results` [`read_only`]

Type: `map[string][]map[string]any`

The results of the queries ran.

##### `updateTime` [`autogenerated`,`read_only`]

Type: `time`

Last update date of the object.
